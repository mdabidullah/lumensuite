{"version":3,"file":"bookmark-edgeless-block.js","sourceRoot":"","sources":["../../src/bookmark-block/bookmark-edgeless-block.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EACL,iBAAiB,EACjB,gBAAgB,GACjB,MAAM,kCAAkC,CAAC;AAC1C,OAAO,EAAE,mBAAmB,EAAE,MAAM,uBAAuB,CAAC;AAC5D,OAAO,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;AAClD,OAAO,EAAE,QAAQ,EAAE,MAAM,6BAA6B,CAAC;AAEvD,OAAO,EAAE,sBAAsB,EAAE,MAAM,qBAAqB,CAAC;IAGhD,8BAA8B;4BAD1C,aAAa,CAAC,0BAA0B,CAAC;;;;sBACU,mBAAmB,CACrE,sBAAsB,CACvB;8CAF2C,SAAQ,WAEnD;;;;YAFD,6KAmCC;;;YAnCY,uDAA8B;;QAGhC,gBAAgB;YACvB,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;YAC7C,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;YAEtC,OAAO;gBACL,CAAC,EAAE,YAAY,CAAC,CAAC;gBACjB,CAAC,EAAE,YAAY,CAAC,CAAC;gBACjB,CAAC,EAAE,gBAAgB,CAAC,KAAK,CAAC;gBAC1B,CAAC,EAAE,iBAAiB,CAAC,KAAK,CAAC;gBAC3B,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE;aACxB,CAAC;QACJ,CAAC;QAEQ,cAAc;YACrB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;YACtC,MAAM,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC;YACtC,MAAM,MAAM,GAAG,iBAAiB,CAAC,KAAK,CAAC,CAAC;YACxC,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;YACtC,MAAM,MAAM,GAAG,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC;YAC/B,MAAM,MAAM,GAAG,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC;YAEhC,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;gBAChC,KAAK,EAAE,MAAM;gBACb,MAAM,EAAE,MAAM;gBACd,SAAS,EAAE,SAAS,MAAM,KAAK,MAAM,GAAG;gBACxC,eAAe,EAAE,KAAK;aACvB,CAAC,CAAC;YAEH,OAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAClC,CAAC;QAED,yCAAmD,EAAE,CAAC;QAAtD,IAA4B,oBAAoB,0DAAM;QAAtD,IAA4B,oBAAoB,gEAAM;;;;SAlC3C,8BAA8B","sourcesContent":["import {\n  EMBED_CARD_HEIGHT,\n  EMBED_CARD_WIDTH,\n} from '@lumensuite/affine-shared/consts';\nimport { toGfxBlockComponent } from '@lumensuite/block-std';\nimport { customElement } from 'lit/decorators.js';\nimport { styleMap } from 'lit/directives/style-map.js';\n\nimport { BookmarkBlockComponent } from './bookmark-block.js';\n\n@customElement('affine-edgeless-bookmark')\nexport class BookmarkEdgelessBlockComponent extends toGfxBlockComponent(\n  BookmarkBlockComponent\n) {\n  override getRenderingRect() {\n    const elementBound = this.model.elementBound;\n    const style = this.model.style$.value;\n\n    return {\n      x: elementBound.x,\n      y: elementBound.y,\n      w: EMBED_CARD_WIDTH[style],\n      h: EMBED_CARD_HEIGHT[style],\n      zIndex: this.toZIndex(),\n    };\n  }\n\n  override renderGfxBlock() {\n    const style = this.model.style$.value;\n    const width = EMBED_CARD_WIDTH[style];\n    const height = EMBED_CARD_HEIGHT[style];\n    const bound = this.model.elementBound;\n    const scaleX = bound.w / width;\n    const scaleY = bound.h / height;\n\n    this.containerStyleMap = styleMap({\n      width: `100%`,\n      height: `100%`,\n      transform: `scale(${scaleX}, ${scaleY})`,\n      transformOrigin: '0 0',\n    });\n\n    return this.renderPageContent();\n  }\n\n  protected override accessor blockContainerStyles = {};\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'affine-edgeless-bookmark': BookmarkEdgelessBlockComponent;\n  }\n}\n"]}