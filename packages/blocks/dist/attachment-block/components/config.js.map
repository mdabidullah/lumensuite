{"version":3,"file":"config.js","sourceRoot":"","sources":["../../../src/attachment-block/components/config.ts"],"names":[],"mappings":"AAEA,OAAO,EACL,QAAQ,EACR,UAAU,EACV,YAAY,EACZ,aAAa,EACb,WAAW,GACZ,MAAM,qCAAqC,CAAC;AAI7C,OAAO,EAAE,yBAAyB,EAAE,MAAM,aAAa,CAAC;AAExD,MAAM,CAAC,MAAM,eAAe,GAC1B;IACE;QACE,IAAI,EAAE,WAAW;QACjB,KAAK,EAAE;YACL;gBACE,IAAI,EAAE,MAAM;gBACZ,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,QAAQ;gBACd,QAAQ,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,QAAQ;gBACnC,MAAM,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE;aACzC;YACD;gBACE,IAAI,EAAE,WAAW;gBACjB,KAAK,EAAE,WAAW;gBAClB,IAAI,EAAE,aAAa;gBACnB,QAAQ,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,QAAQ;gBACnC,MAAM,EAAE,CAAC,EAAE,GAAG,EAAE,cAAc,EAAE,KAAK,EAAE,EAAE,EAAE;oBACzC,MAAM,KAAK,GAAG,cAAc,CAAC,KAAK,CAAC;oBACnC,MAAM,IAAI,GAAqC;wBAC7C,OAAO,EAAE,mBAAmB;wBAC5B,GAAG,yBAAyB,CAAC,KAAK,CAAC;qBACpC,CAAC;oBACF,GAAG,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;oBACpC,KAAK,EAAE,CAAC;gBACV,CAAC;aACF;YACD;gBACE,IAAI,EAAE,QAAQ;gBACd,KAAK,EAAE,QAAQ;gBACf,IAAI,EAAE,WAAW;gBACjB,QAAQ,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,QAAQ;gBACnC,MAAM,EAAE,CAAC,EAAE,cAAc,EAAE,KAAK,EAAE,EAAE,EAAE;oBACpC,cAAc,CAAC,WAAW,EAAE,CAAC;oBAC7B,KAAK,EAAE,CAAC;gBACV,CAAC;aACF;YACD;gBACE,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,UAAU;gBACjB,IAAI,EAAE,YAAY;gBAClB,QAAQ,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,QAAQ;gBACnC,MAAM,EAAE,CAAC,EAAE,cAAc,EAAE,KAAK,EAAE,EAAE,EAAE;oBACpC,cAAc,CAAC,QAAQ,EAAE,CAAC;oBAC1B,KAAK,EAAE,CAAC;gBACV,CAAC;aACF;SACF;KACF;IACD;QACE,IAAI,EAAE,QAAQ;QACd,KAAK,EAAE;YACL;gBACE,IAAI,EAAE,QAAQ;gBACd,KAAK,EAAE,QAAQ;gBACf,IAAI,EAAE,UAAU;gBAChB,QAAQ,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,QAAQ;gBACnC,MAAM,EAAE,CAAC,EAAE,GAAG,EAAE,cAAc,EAAE,KAAK,EAAE,EAAE,EAAE;oBACzC,GAAG,CAAC,WAAW,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;oBACtC,KAAK,EAAE,CAAC;gBACV,CAAC;aACF;SACF;KACF;CACF,CAAC","sourcesContent":["import type { MenuItemGroup } from '@blocksuite/affine-components/toolbar';\n\nimport {\n  CopyIcon,\n  DeleteIcon,\n  DownloadIcon,\n  DuplicateIcon,\n  RefreshIcon,\n} from '@blocksuite/affine-components/icons';\n\nimport type { AttachmentToolbarMoreMenuContext } from './context.js';\n\nimport { cloneAttachmentProperties } from '../utils.js';\n\nexport const BUILT_IN_GROUPS: MenuItemGroup<AttachmentToolbarMoreMenuContext>[] =\n  [\n    {\n      type: 'clipboard',\n      items: [\n        {\n          type: 'copy',\n          label: 'Copy',\n          icon: CopyIcon,\n          disabled: ({ doc }) => doc.readonly,\n          action: ctx => ctx.blockComponent.copy(),\n        },\n        {\n          type: 'duplicate',\n          label: 'Duplicate',\n          icon: DuplicateIcon,\n          disabled: ({ doc }) => doc.readonly,\n          action: ({ doc, blockComponent, close }) => {\n            const model = blockComponent.model;\n            const prop: { flavour: 'affine:attachment' } = {\n              flavour: 'affine:attachment',\n              ...cloneAttachmentProperties(model),\n            };\n            doc.addSiblingBlocks(model, [prop]);\n            close();\n          },\n        },\n        {\n          type: 'reload',\n          label: 'Reload',\n          icon: RefreshIcon,\n          disabled: ({ doc }) => doc.readonly,\n          action: ({ blockComponent, close }) => {\n            blockComponent.refreshData();\n            close();\n          },\n        },\n        {\n          type: 'download',\n          label: 'Download',\n          icon: DownloadIcon,\n          disabled: ({ doc }) => doc.readonly,\n          action: ({ blockComponent, close }) => {\n            blockComponent.download();\n            close();\n          },\n        },\n      ],\n    },\n    {\n      type: 'delete',\n      items: [\n        {\n          type: 'delete',\n          label: 'Delete',\n          icon: DeleteIcon,\n          disabled: ({ doc }) => doc.readonly,\n          action: ({ doc, blockComponent, close }) => {\n            doc.deleteBlock(blockComponent.model);\n            close();\n          },\n        },\n      ],\n    },\n  ];\n"]}