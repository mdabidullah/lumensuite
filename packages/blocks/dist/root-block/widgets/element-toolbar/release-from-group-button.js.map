{"version":3,"file":"release-from-group-button.js","sourceRoot":"","sources":["../../../../src/root-block/widgets/element-toolbar/release-from-group-button.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,0BAA0B,EAAE,MAAM,qCAAqC,CAAC;AACjF,OAAO,EAAE,iBAAiB,EAAE,MAAM,0BAA0B,CAAC;AAC7D,OAAO,EAAE,cAAc,EAAE,MAAM,uBAAuB,CAAC;AACvD,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AACvC,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;IAK/C,8BAA8B;4BAD1C,aAAa,CAAC,oCAAoC,CAAC;;;;sBACA,cAAc,CAAC,UAAU,CAAC;;;;8CAAlC,SAAQ,WAA0B;;;;oCAmC3E,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAC/B,6KAAS,QAAQ,6BAAR,QAAQ,2FAA8B;YApCjD,6KAqCC;;;YArCY,uDAA8B;;QACjC,iBAAiB;YACvB,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;YACtC,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC;YAE/C,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,YAAY,iBAAiB,CAAC;gBAAE,OAAO;YAE1D,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;YAE5B,0DAA0D;YAC1D,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YAE3B,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,aAAa,CACzC,SAAS,IAAI,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CACtD,CAAC;YAEF,MAAM,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC;YAC3B,IAAI,MAAM,YAAY,iBAAiB,EAAE,CAAC;gBACxC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC9B,CAAC;QACH,CAAC;QAEkB,MAAM;YACvB,OAAO,IAAI,CAAA;;;mBAGI,oBAAoB;oBACnB,MAAM;iBACT,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE;;UAErC,0BAA0B;;KAE/B,CAAC;QACJ,CAAC;QAGD,qFAA+C;QAA/C,IAAS,QAAQ,8CAA8B;QAA/C,IAAS,QAAQ,oDAA8B;;;;;;;;SApCpC,8BAA8B;AA6C3C,MAAM,UAAU,4BAA4B,CAC1C,QAAoC;IAEpC,OAAO,IAAI,CAAA;;kBAEK,QAAQ;;GAEvB,CAAC;AACJ,CAAC","sourcesContent":["import { ReleaseFromGroupButtonIcon } from '@blocksuite/affine-components/icons';\nimport { GroupElementModel } from '@blocksuite/affine-model';\nimport { WithDisposable } from '@blocksuite/block-std';\nimport { html, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\nimport type { EdgelessRootBlockComponent } from '../../edgeless/edgeless-root-block.js';\n\n@customElement('edgeless-release-from-group-button')\nexport class EdgelessReleaseFromGroupButton extends WithDisposable(LitElement) {\n  private _releaseFromGroup() {\n    const service = this.edgeless.service;\n    const element = service.selection.firstElement;\n\n    if (!(element.group instanceof GroupElementModel)) return;\n\n    const group = element.group;\n\n    // eslint-disable-next-line unicorn/prefer-dom-node-remove\n    group.removeChild(element);\n\n    element.index = service.layer.generateIndex(\n      'flavour' in element ? element.flavour : element.type\n    );\n\n    const parent = group.group;\n    if (parent instanceof GroupElementModel) {\n      parent.addChild(element.id);\n    }\n  }\n\n  protected override render() {\n    return html`\n      <editor-icon-button\n        aria-label=\"Release from group\"\n        .tooltip=${'Release from group'}\n        .iconSize=${'20px'}\n        @click=${() => this._releaseFromGroup()}\n      >\n        ${ReleaseFromGroupButtonIcon}\n      </editor-icon-button>\n    `;\n  }\n\n  @property({ attribute: false })\n  accessor edgeless!: EdgelessRootBlockComponent;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'edgeless-release-from-group-button': EdgelessReleaseFromGroupButton;\n  }\n}\n\nexport function renderReleaseFromGroupButton(\n  edgeless: EdgelessRootBlockComponent\n) {\n  return html`\n    <edgeless-release-from-group-button\n      .edgeless=${edgeless}\n    ></edgeless-release-from-group-button>\n  `;\n}\n"]}