{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../../../src/root-block/widgets/ai-panel/utils.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,kBAAkB,EAAE,MAAM,iCAAiC,CAAC;AAIrE,MAAM,UAAU,iBAAiB,CAC/B,IAAgB,EAChB,OAA4B;IAE5B,MAAM,UAAU,GAAG,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC;IAClE,OAAO,OAAO;SACX,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QACb,GAAG,KAAK;QACR,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAC/B,IAAI,CAAC,QAAQ;YACX,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC;YACvD,CAAC,CAAC,IAAI,CACT;KACF,CAAC,CAAC;SACF,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AAC7C,CAAC","sourcesContent":["import type { EditorHost } from '@blocksuite/block-std';\n\nimport { isInsidePageEditor } from '@blocksuite/affine-shared/utils';\n\nimport type { AIItemGroupConfig } from '../../../_common/components/ai-item/types.js';\n\nexport function filterAIItemGroup(\n  host: EditorHost,\n  configs: AIItemGroupConfig[]\n): AIItemGroupConfig[] {\n  const editorMode = isInsidePageEditor(host) ? 'page' : 'edgeless';\n  return configs\n    .map(group => ({\n      ...group,\n      items: group.items.filter(item =>\n        item.showWhen\n          ? item.showWhen(host.command.chain(), editorMode, host)\n          : true\n      ),\n    }))\n    .filter(group => group.items.length > 0);\n}\n"]}