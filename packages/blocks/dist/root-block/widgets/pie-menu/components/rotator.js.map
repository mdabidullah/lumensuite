{"version":3,"file":"rotator.js","sourceRoot":"","sources":["../../../../../src/root-block/widgets/pie-menu/components/rotator.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,kCAAkC,CAAC;AAC/D,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,KAAK,CAAC;AACrD,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAC5D,OAAO,EAAE,QAAQ,EAAE,MAAM,6BAA6B,CAAC;AAEvD,OAAO,EAAE,WAAW,EAAE,MAAM,aAAa,CAAC;AAE1C,MAAM,MAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;CAYjB,CAAC;IAGW,gBAAgB;4BAD5B,aAAa,CAAC,oBAAoB,CAAC;;;;sBACE,UAAU;;;;;;;gCAAlB,SAAQ,WAAU;;;;iCAe7C,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;oCAG9B,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAF/B,oKAAS,KAAK,6BAAL,KAAK,qFAAuB;YAGrC,6KAAS,QAAQ,6BAAR,QAAQ,2FAAW;YAnB9B,6KAoBC;;;;iBAnBiB,WAAM,GAAG,MAAM,AAAT,CAAU;QAEb,MAAM;YACvB,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI;gBAAE,OAAO,OAAO,CAAC;YAE1D,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,WAAW,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;YAEvE,MAAM,MAAM,GAAG;gBACb,SAAS,EAAE,aAAa,CAAC,OAAO,CAAC,2BAA2B;aAC7D,CAAC;YAEF,OAAO,IAAI,CAAA,gBAAgB,QAAQ,CAAC,MAAM,CAAC,2BAA2B,CAAC;QACzE,CAAC;QAGD,uEAAgC,IAAI,EAAC;QAArC,IAAS,KAAK,2CAAuB;QAArC,IAAS,KAAK,iDAAuB;QAGrC,0IAA4B;QAA5B,IAAS,QAAQ,8CAAW;QAA5B,IAAS,QAAQ,oDAAW;;;;;;YAnBjB,uDAAgB;;;;;SAAhB,gBAAgB","sourcesContent":["import { CommonUtils } from '@blocksuite/affine-block-surface';\nimport { css, html, LitElement, nothing } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { styleMap } from 'lit/directives/style-map.js';\n\nimport { getPosition } from '../utils.js';\n\nconst styles = css`\n  .rotator {\n    position: absolute;\n    background: var(--affine-background-overlay-panel-color);\n    box-shadow: var(--affine-shadow-2);\n    border: 2px solid var(--affine-primary-color);\n    border-radius: 50%;\n    width: 7px;\n    height: 7px;\n    top: 50%;\n    left: 50%;\n  }\n`;\n\n@customElement('pie-center-rotator')\nexport class PieCenterRotator extends LitElement {\n  static override styles = styles;\n\n  protected override render() {\n    if (!this.isActive || this.angle === null) return nothing;\n\n    const [x, y] = getPosition(CommonUtils.toRadian(this.angle), [45, 45]);\n\n    const styles = {\n      transform: `translate(${x}px, ${y}px) translate(-50%, -50%)`,\n    };\n\n    return html`<span style=\"${styleMap(styles)}\" class=\"rotator\"></span>`;\n  }\n\n  @property({ attribute: false })\n  accessor angle: number | null = null;\n\n  @property({ attribute: false })\n  accessor isActive!: boolean;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'pie-center-rotator': PieCenterRotator;\n  }\n}\n"]}