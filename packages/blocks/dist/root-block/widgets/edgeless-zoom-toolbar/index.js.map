{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/root-block/widgets/edgeless-zoom-toolbar/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,OAAO,EAAE,eAAe,EAAE,MAAM,uBAAuB,CAAC;AACxD,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,KAAK,CAAC;AACzC,OAAO,EAAE,aAAa,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AAIzD,OAAO,6BAA6B,CAAC;AACrC,OAAO,mBAAmB,CAAC;AAE3B,MAAM,CAAC,MAAM,mCAAmC,GAC9C,qCAAqC,CAAC;IAG3B,+BAA+B;4BAD3C,aAAa,CAAC,mCAAmC,CAAC;;;;sBACE,eAAe;;;;+CAAvB,SAAQ,WAGpD;;;;iCAiEE,KAAK,EAAE;YACR,oKAAiB,KAAK,6BAAL,KAAK,qFAAS;YArEjC,6KAsEC;;;;iBAlEiB,WAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;GAuB3B,AAvBqB,CAuBpB;QAEF,IAAI,QAAQ;YACV,OAAO,IAAI,CAAC,KAAK,CAAC;QACpB,CAAC;QAEQ,YAAY;YACnB,MAAM,EACJ,WAAW,EACX,QAAQ,EAAE,EAAE,KAAK,EAAE,GACpB,GAAG,IAAI,CAAC;YACT,WAAW,CAAC,GAAG,CACb,KAAK,CAAC,mBAAmB,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;gBAClC,IAAI,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE,CAAC;oBACnC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACrB,CAAC;gBACD,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CACH,CAAC;YACF,WAAW,CAAC,GAAG,CACb,KAAK,CAAC,uBAAuB,CAAC,EAAE,CAAC,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE;gBACnD,IAAI,WAAW,KAAK,SAAS,EAAE,CAAC;oBAC9B,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC;gBAC3B,CAAC;YACH,CAAC,CAAC,CACH,CAAC;QACJ,CAAC;QAEQ,MAAM;YACb,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACjC,OAAO,OAAO,CAAC;YACjB,CAAC;YAED,OAAO,IAAI,CAAA;yCAC0B,IAAI,CAAC,QAAQ;;oBAElC,IAAI,CAAC,QAAQ;;KAE5B,CAAC;QACJ,CAAC;QAGD,uEAAyB,KAAK,EAAC;QAA/B,IAAiB,KAAK,2CAAS;QAA/B,IAAiB,KAAK,iDAAS;;;;;;YArEpB,uDAA+B;;;;;SAA/B,+BAA+B","sourcesContent":["import type { RootBlockModel } from '@blocksuite/affine-model';\n\nimport { WidgetComponent } from '@blocksuite/block-std';\nimport { css, html, nothing } from 'lit';\nimport { customElement, state } from 'lit/decorators.js';\n\nimport type { EdgelessRootBlockComponent } from '../../edgeless/edgeless-root-block.js';\n\nimport './zoom-bar-toggle-button.js';\nimport './zoom-toolbar.js';\n\nexport const AFFINE_EDGELESS_ZOOM_TOOLBAR_WIDGET =\n  'affine-edgeless-zoom-toolbar-widget';\n\n@customElement(AFFINE_EDGELESS_ZOOM_TOOLBAR_WIDGET)\nexport class AffineEdgelessZoomToolbarWidget extends WidgetComponent<\n  RootBlockModel,\n  EdgelessRootBlockComponent\n> {\n  static override styles = css`\n    :host {\n      position: absolute;\n      bottom: 20px;\n      left: 12px;\n      z-index: var(--affine-z-index-popover);\n      display: flex;\n      justify-content: center;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n\n    @container viewport (width <= 1200px) {\n      edgeless-zoom-toolbar {\n        display: none;\n      }\n    }\n\n    @container viewport (width > 1200px) {\n      zoom-bar-toggle-button {\n        display: none;\n      }\n    }\n  `;\n\n  get edgeless() {\n    return this.block;\n  }\n\n  override firstUpdated() {\n    const {\n      disposables,\n      edgeless: { slots },\n    } = this;\n    disposables.add(\n      slots.edgelessToolUpdated.on(tool => {\n        if (tool.type !== 'frameNavigator') {\n          this._hide = false;\n        }\n        this.requestUpdate();\n      })\n    );\n    disposables.add(\n      slots.navigatorSettingUpdated.on(({ hideToolbar }) => {\n        if (hideToolbar !== undefined) {\n          this._hide = hideToolbar;\n        }\n      })\n    );\n  }\n\n  override render() {\n    if (this._hide || !this.edgeless) {\n      return nothing;\n    }\n\n    return html`\n      <edgeless-zoom-toolbar .edgeless=${this.edgeless}></edgeless-zoom-toolbar>\n      <zoom-bar-toggle-button\n        .edgeless=${this.edgeless}\n      ></zoom-bar-toggle-button>\n    `;\n  }\n\n  @state()\n  private accessor _hide = false;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    [AFFINE_EDGELESS_ZOOM_TOOLBAR_WIDGET]: AffineEdgelessZoomToolbarWidget;\n  }\n}\n"]}