{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../../src/root-block/text-selection/utils.ts"],"names":[],"mappings":"AAAA,MAAM,UAAU,UAAU,CACxB,eAA4B,EAC5B,CAAS,EACT,SAAS,GAAG,EAAE;IAEd,MAAM,EAAE,YAAY,EAAE,YAAY,EAAE,SAAS,EAAE,GAAG,eAAe,CAAC;IAClE,IAAI,UAAU,GAAG,SAAS,CAAC;IAC3B,MAAM,GAAG,GAAG,YAAY,GAAG,YAAY,CAAC;IAExC,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,IAAI,IAAI,GAAG,KAAK,CAAC;IAEjB,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,GAAG,IAAI,YAAY,GAAG,CAAC,GAAG,SAAS,EAAE,CAAC;QAC/D,IAAI;QACJ,CAAC,GAAG,SAAS,GAAG,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;QACnC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC;IACrC,CAAC;SAAM,IAAI,SAAS,GAAG,CAAC,IAAI,CAAC,GAAG,SAAS,EAAE,CAAC;QAC1C,IAAI;QACJ,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC;QAClB,IAAI,GAAG,UAAU,GAAG,CAAC,CAAC;IACxB,CAAC;IAED,UAAU,IAAI,CAAC,GAAG,IAAI,CAAC;IAEvB,IAAI,IAAI,IAAI,SAAS,KAAK,UAAU,EAAE,CAAC;QACrC,eAAe,CAAC,SAAS,GAAG,UAAU,CAAC;QACvC,OAAO,IAAI,CAAC;IACd,CAAC;IACD,OAAO,KAAK,CAAC;AACf,CAAC","sourcesContent":["export function autoScroll(\n  viewportElement: HTMLElement,\n  y: number,\n  threshold = 50\n): boolean {\n  const { scrollHeight, clientHeight, scrollTop } = viewportElement;\n  let _scrollTop = scrollTop;\n  const max = scrollHeight - clientHeight;\n\n  let d = 0;\n  let flag = false;\n\n  if (Math.ceil(scrollTop) < max && clientHeight - y < threshold) {\n    // ↓\n    d = threshold - (clientHeight - y);\n    flag = Math.ceil(_scrollTop) < max;\n  } else if (scrollTop > 0 && y < threshold) {\n    // ↑\n    d = y - threshold;\n    flag = _scrollTop > 0;\n  }\n\n  _scrollTop += d * 0.25;\n\n  if (flag && scrollTop !== _scrollTop) {\n    viewportElement.scrollTop = _scrollTop;\n    return true;\n  }\n  return false;\n}\n"]}