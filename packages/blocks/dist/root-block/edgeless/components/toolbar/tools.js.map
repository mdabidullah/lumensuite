{"version":3,"file":"tools.js","sourceRoot":"","sources":["../../../../../src/root-block/edgeless/components/toolbar/tools.ts"],"names":[],"mappings":"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","sourcesContent":["import type { Menu } from '@lumensuite/affine-components/context-menu';\n\nimport { html, type TemplateResult } from 'lit';\n\nimport type { EdgelessRootBlockComponent } from '../../edgeless-root-block.js';\nimport type { EdgelessTool } from '../../types.js';\n\nimport './brush/brush-tool-button.js';\nimport { buildConnectorDenseMenu } from './connector/connector-dense-menu.js';\n// import './lasso/lasso-tool-button.js';\nimport './connector/connector-tool-button.js';\nimport './default/default-tool-button.js';\nimport './eraser/eraser-tool-button.js';\nimport { buildFrameDenseMenu } from './frame/frame-dense-menu.js';\nimport './frame/frame-tool-button.js';\nimport { buildLinkDenseMenu } from './link/link-dense-menu.js';\nimport './link/link-tool-button.js';\nimport './mindmap/mindmap-tool-button.js';\n// import './image/image-tool-button.js';\nimport './note/note-senior-button.js';\n// import './present/present-button.js';\nimport './note/note-tool-button.js';\nimport './shape/shape-tool-button.js';\n// import './text/text-tool-button.js';\nimport './template/template-tool-button.js';\n\nexport interface QuickTool {\n  type?: EdgelessTool['type'];\n  content: TemplateResult;\n  /**\n   * if not configured, the tool will not be shown in dense mode\n   */\n  menu?: Menu;\n}\nexport interface SeniorTool {\n  /**\n   * Used to show in nav-button's tooltip\n   */\n  name: string;\n  content: TemplateResult;\n}\n\n/**\n * Get quick-tool list\n */\nexport const getQuickTools = ({\n  edgeless,\n}: {\n  edgeless: EdgelessRootBlockComponent;\n}) => {\n  const { doc } = edgeless;\n  const quickTools: QuickTool[] = [];\n\n  // ðŸ”§ Hands / Pointer\n  quickTools.push({\n    type: 'default',\n    content: html`<edgeless-default-tool-button\n      .edgeless=${edgeless}\n    ></edgeless-default-tool-button>`,\n    // menu: will never show because the first tool will never hide\n  });\n\n  // ðŸ”§ Lasso\n  // if (doc.awarenessStore.getFlag('enable_lasso_tool')) {\n  //   quickTools.push({\n  //     type: 'lasso',\n  //     content: html`<edgeless-lasso-tool-button\n  //       .edgeless=${edgeless}\n  //     ></edgeless-lasso-tool-button>`,\n  //     menu: buildLassoDenseMenu(edgeless),\n  //   });\n  // }\n\n  // ðŸ”§ Frame\n  if (!doc.readonly) {\n    quickTools.push({\n      type: 'frame',\n      content: html`<edgeless-frame-tool-button\n        .edgeless=${edgeless}\n      ></edgeless-frame-tool-button>`,\n      menu: buildFrameDenseMenu(edgeless),\n    });\n  }\n\n  // ðŸ”§ Connector\n  quickTools.push({\n    type: 'connector',\n    content: html`<edgeless-connector-tool-button\n      .edgeless=${edgeless}\n    ></edgeless-connector-tool-button>`,\n    menu: buildConnectorDenseMenu(edgeless),\n  });\n\n  // ðŸ”§ Present\n  // quickTools.push({\n  //   type: 'frameNavigator',\n  //   content: html`<edgeless-present-button\n  //     .edgeless=${edgeless}\n  //   ></edgeless-present-button>`,\n  // });\n\n  // ðŸ”§ Note\n  // if (!doc.readonly) {\n  //   quickTools.push({\n  //     type: 'affine:note',\n  //     content: html`\n  //       <edgeless-note-tool-button\n  //         .edgeless=${edgeless}\n  //       ></edgeless-note-tool-button>\n  //     `,\n  //   });\n  // }\n\n  // Link\n  quickTools.push({\n    content: html`<edgeless-link-tool-button\n      .edgeless=${edgeless}\n    ></edgeless-link-tool-button>`,\n    menu: buildLinkDenseMenu(edgeless),\n  });\n  return quickTools;\n};\n\nexport const getSeniorTools = ({\n  edgeless,\n  toolbarContainer,\n}: {\n  edgeless: EdgelessRootBlockComponent;\n  toolbarContainer: HTMLElement;\n}): SeniorTool[] => {\n  const { doc } = edgeless;\n  const tools: SeniorTool[] = [];\n\n  if (!doc.readonly) {\n    tools.push({\n      name: 'Note',\n      content: html`<edgeless-note-senior-button .edgeless=${edgeless}>\n      </edgeless-note-senior-button>`,\n    });\n  }\n\n  // Brush / Eraser\n  tools.push({\n    name: 'Pen',\n    content: html`<div class=\"brush-and-eraser\">\n      <edgeless-brush-tool-button\n        .edgeless=${edgeless}\n      ></edgeless-brush-tool-button>\n\n      <edgeless-eraser-tool-button\n        .edgeless=${edgeless}\n      ></edgeless-eraser-tool-button>\n    </div> `,\n  });\n\n  // Shape\n  tools.push({\n    name: 'Shape',\n    content: html`<edgeless-shape-tool-button\n      .edgeless=${edgeless}\n      .toolbarContainer=${toolbarContainer}\n    ></edgeless-shape-tool-button>`,\n  });\n\n  tools.push({\n    name: 'Mind Map',\n    content: html`<edgeless-mindmap-tool-button\n      .edgeless=${edgeless}\n      .toolbarContainer=${toolbarContainer}\n    ></edgeless-mindmap-tool-button>`,\n  });\n\n  // Template\n  tools.push({\n    name: 'Template',\n    content: html`<edgeless-template-button .edgeless=${edgeless}>\n    </edgeless-template-button>`,\n  });\n\n  return tools;\n};\n"]}