{"version":3,"file":"color-panel.js","sourceRoot":"","sources":["../../../../../src/root-block/edgeless/components/panel/color-panel.ts"],"names":[],"mappings":"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","sourcesContent":["import { TransparentIcon } from '@blocksuite/affine-components/icons';\nimport {\n  LINE_COLORS,\n  LineColor,\n  NoteBackgroundColor,\n  ShapeFillColor,\n} from '@blocksuite/affine-model';\nimport { ThemeObserver } from '@blocksuite/affine-shared/theme';\nimport { css, html, LitElement, nothing } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { repeat } from 'lit/directives/repeat.js';\nimport { styleMap } from 'lit/directives/style-map.js';\n\nexport class ColorEvent extends Event {\n  detail: string;\n\n  constructor(\n    type: string,\n    {\n      detail,\n      composed,\n      bubbles,\n    }: { detail: string; composed: boolean; bubbles: boolean }\n  ) {\n    super(type, { bubbles, composed });\n    this.detail = detail;\n  }\n}\n\nexport const GET_DEFAULT_LINE_COLOR = () =>\n  ThemeObserver.mode === 'dark' ? LineColor.White : LineColor.Black;\n\nexport function isTransparent(color: string) {\n  return color.toLowerCase().endsWith('transparent');\n}\n\nfunction isSameColorWithBackground(color: string) {\n  const colors: string[] = [\n    LineColor.Black,\n    LineColor.White,\n    NoteBackgroundColor.Black,\n    NoteBackgroundColor.White,\n    ShapeFillColor.Black,\n    ShapeFillColor.White,\n  ];\n  return colors.includes(color.toLowerCase());\n}\n\nfunction TransparentColor(hollowCircle = false) {\n  const containerStyle = {\n    position: 'relative',\n    width: '16px',\n    height: '16px',\n    stroke: 'none',\n  };\n  const maskStyle = {\n    position: 'absolute',\n    width: '10px',\n    height: '10px',\n    left: '3px',\n    top: '3.5px',\n    borderRadius: '50%',\n    background: 'var(--affine-background-overlay-panel-color)',\n  };\n\n  const mask = hollowCircle\n    ? html`<div style=${styleMap(maskStyle)}></div>`\n    : nothing;\n\n  return html`\n    <div style=${styleMap(containerStyle)}>${TransparentIcon} ${mask}</div>\n  `;\n}\n\nfunction BorderedHollowCircle(color: string) {\n  const valid = color.startsWith('--');\n  const strokeWidth = valid && isSameColorWithBackground(color) ? 1 : 0;\n  const style = {\n    fill: valid ? `var(${color})` : color,\n    stroke: 'var(--affine-border-color)',\n  };\n  return html`\n    <svg\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 16 16\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M12.3125 8C12.3125 10.3817 10.3817 12.3125 8 12.3125C5.61827 12.3125 3.6875 10.3817 3.6875 8C3.6875 5.61827 5.61827 3.6875 8 3.6875C10.3817 3.6875 12.3125 5.61827 12.3125 8ZM8 15.5C12.1421 15.5 15.5 12.1421 15.5 8C15.5 3.85786 12.1421 0.5 8 0.5C3.85786 0.5 0.5 3.85786 0.5 8C0.5 12.1421 3.85786 15.5 8 15.5Z\"\n        stroke-width=\"${strokeWidth}\"\n        style=${styleMap(style)}\n      />\n    </svg>\n  `;\n}\n\nfunction AdditionIcon(color: string, hollowCircle: boolean) {\n  if (isTransparent(color)) {\n    return TransparentColor(hollowCircle);\n  }\n  if (hollowCircle) {\n    return BorderedHollowCircle(color);\n  }\n  return nothing;\n}\n\nexport function ColorUnit(\n  color: string,\n  {\n    hollowCircle,\n    letter,\n  }: {\n    hollowCircle?: boolean;\n    letter?: boolean;\n  } = {}\n) {\n  const additionIcon = AdditionIcon(color, !!hollowCircle);\n\n  const colorStyle =\n    !hollowCircle && !isTransparent(color)\n      ? { background: `var(${color})` }\n      : {};\n\n  const borderStyle =\n    isSameColorWithBackground(color) && !hollowCircle\n      ? {\n          border: '0.5px solid var(--affine-border-color)',\n        }\n      : {};\n\n  const style = {\n    width: '16px',\n    height: '16px',\n    borderRadius: '50%',\n    boxSizing: 'border-box',\n    overflow: 'hidden',\n    ...borderStyle,\n    ...colorStyle,\n  };\n\n  return html`\n    <div\n      class=\"color-unit\"\n      style=${styleMap(style)}\n      aria-label=${color.toLowerCase()}\n      data-letter=${letter ? 'A' : ''}\n    >\n      ${additionIcon}\n    </div>\n  `;\n}\n\n@customElement('edgeless-color-button')\nexport class EdgelessColorButton extends LitElement {\n  static override styles = css`\n    :host {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 20px;\n      height: 20px;\n    }\n\n    .color-unit {\n      width: 16px;\n      height: 16px;\n      border-radius: 50%;\n      box-sizing: border-box;\n      overflow: hidden;\n    }\n  `;\n\n  get preprocessColor() {\n    const color = this.color;\n    return color.startsWith('--') ? `var(${color})` : color;\n  }\n\n  override render() {\n    const { color, hollowCircle, letter } = this;\n    const additionIcon = AdditionIcon(color, !!hollowCircle);\n    const style: Record<string, string> = {};\n    if (!hollowCircle) {\n      style.background = this.preprocessColor;\n      if (isSameColorWithBackground(color)) {\n        style.border = '0.5px solid var(--affine-border-color)';\n      }\n    }\n    return html`<div\n      class=\"color-unit\"\n      aria-label=${color.toLowerCase()}\n      data-letter=${letter ? 'A' : nothing}\n      style=${styleMap(style)}\n    >\n      ${additionIcon}\n    </div>`;\n  }\n\n  @property({ attribute: false })\n  accessor color!: string;\n\n  @property({ attribute: false })\n  accessor hollowCircle: boolean | undefined = undefined;\n\n  @property({ attribute: false })\n  accessor letter: boolean | undefined = undefined;\n}\n\nexport const colorContainerStyles = css`\n  .color-container {\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    box-sizing: border-box;\n    overflow: hidden;\n    cursor: pointer;\n    padding: 2px;\n  }\n\n  .color-unit::before {\n    content: attr(data-letter);\n    display: block;\n    font-size: 12px;\n  }\n\n  .color-container[active]:after {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    border: 0.5px solid var(--affine-primary-color);\n    border-radius: 50%;\n    box-sizing: border-box;\n    content: attr(data-letter);\n  }\n`;\n\n@customElement('edgeless-color-panel')\nexport class EdgelessColorPanel extends LitElement {\n  static override styles = css`\n    :host {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n      width: 184px;\n      gap: 8px;\n    }\n\n    ${colorContainerStyles}\n  `;\n\n  get palettes() {\n    return this.hasTransparent\n      ? ['--affine-palette-transparent', ...this.options]\n      : this.options;\n  }\n\n  onSelect(value: string) {\n    this.dispatchEvent(\n      new ColorEvent('select', {\n        detail: value,\n        composed: true,\n        bubbles: true,\n      })\n    );\n    this.value = value;\n  }\n\n  override render() {\n    return html`\n      ${repeat(\n        this.palettes,\n        color => color,\n        color => {\n          const unit = ColorUnit(color, {\n            hollowCircle: this.hollowCircle,\n            letter: this.showLetterMark,\n          });\n\n          return html`\n            <div\n              class=\"color-container\"\n              ?active=${color === this.value}\n              @click=${() => this.onSelect(color)}\n            >\n              ${unit}\n            </div>\n          `;\n        }\n      )}\n      </div>\n      <slot name=\"custom\"></slot>\n    `;\n  }\n\n  @property({ attribute: false })\n  accessor hasTransparent: boolean = true;\n\n  @property({ attribute: false })\n  accessor hollowCircle = false;\n\n  @property()\n  accessor openColorPicker!: (e: MouseEvent) => void;\n\n  @property({ type: Array })\n  accessor options: readonly string[] = LINE_COLORS;\n\n  @property({ attribute: false })\n  accessor showLetterMark = false;\n\n  @property({ attribute: false })\n  accessor value: string | null = null;\n}\n\n@customElement('edgeless-text-color-icon')\nexport class EdgelessTextColorIcon extends LitElement {\n  static override styles = css`\n    :host {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      width: 20px;\n      height: 20px;\n    }\n  `;\n\n  get preprocessColor() {\n    const color = this.color;\n    return color.startsWith('--') ? `var(${color})` : color;\n  }\n\n  override render() {\n    return html`\n      <svg\n        width=\"20\"\n        height=\"20\"\n        viewBox=\"0 0 20 20\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fill-rule=\"evenodd\"\n          clip-rule=\"evenodd\"\n          fill=\"currentColor\"\n          d=\"M8.71093 3.85123C8.91241 3.31395 9.42603 2.95801 9.99984 2.95801C10.5737 2.95801 11.0873 3.31395 11.2888 3.85123L14.7517 13.0858C14.8729 13.409 14.7092 13.7692 14.386 13.8904C14.0628 14.0116 13.7025 13.8479 13.5813 13.5247L12.5648 10.8141H7.43487L6.41838 13.5247C6.29718 13.8479 5.93693 14.0116 5.61373 13.8904C5.29052 13.7692 5.12677 13.409 5.24797 13.0858L8.71093 3.85123ZM7.90362 9.56405H12.0961L10.1183 4.29013C10.0998 4.24073 10.0526 4.20801 9.99984 4.20801C9.94709 4.20801 9.89986 4.24073 9.88134 4.29013L7.90362 9.56405Z\"\n        />\n        <rect\n          x=\"3.3335\"\n          y=\"15\"\n          width=\"13.3333\"\n          height=\"2.08333\"\n          rx=\"1\"\n          fill=${this.preprocessColor}\n        />\n      </svg>\n    `;\n  }\n\n  @property({ attribute: false })\n  accessor color!: string;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'edgeless-color-panel': EdgelessColorPanel;\n    'edgeless-color-button': EdgelessColorButton;\n    'edgeless-text-color-icon': EdgelessTextColorIcon;\n  }\n}\n"]}