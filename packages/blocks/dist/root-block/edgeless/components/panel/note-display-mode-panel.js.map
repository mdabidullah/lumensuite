{"version":3,"file":"note-display-mode-panel.js","sourceRoot":"","sources":["../../../../../src/root-block/edgeless/components/panel/note-display-mode-panel.ts"],"names":[],"mappings":"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","sourcesContent":["import { EdgelessIcon, PageIcon } from '@lumensuite/affine-components/icons';\nimport { NoteDisplayMode } from '@lumensuite/affine-model';\nimport { stopPropagation } from '@lumensuite/affine-shared/utils';\nimport { WithDisposable } from '@lumensuite/block-std';\nimport { css, html, LitElement } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { repeat } from 'lit/directives/repeat.js';\n\n@customElement('note-display-mode-panel')\nexport class NoteDisplayModePanel extends WithDisposable(LitElement) {\n  static override styles = css`\n    :host {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      min-width: 180px;\n      width: var(--panel-width);\n      gap: 4px;\n    }\n    .item {\n      display: flex;\n      align-items: center;\n      width: 100%;\n      height: 30px;\n      padding: 4px 12px;\n      border-radius: 4px;\n      gap: 4px;\n      box-sizing: border-box;\n      cursor: pointer;\n    }\n    .item-label {\n      flex: 1 1 0;\n    }\n    .item-icon {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      gap: 4px;\n      color: var(--affine-icon-color);\n    }\n    .item:hover,\n    .item.selected {\n      background-color: var(--affine-hover-color);\n    }\n  `;\n\n  private _DisplayModeIcon(mode: NoteDisplayMode) {\n    switch (mode) {\n      case NoteDisplayMode.DocAndEdgeless:\n        return html`${PageIcon} ${EdgelessIcon}`;\n      case NoteDisplayMode.DocOnly:\n        return html`${PageIcon}`;\n      case NoteDisplayMode.EdgelessOnly:\n        return html`${EdgelessIcon}`;\n    }\n  }\n\n  private _DisplayModeLabel(mode: NoteDisplayMode) {\n    switch (mode) {\n      case NoteDisplayMode.DocAndEdgeless:\n        return 'In Both';\n      case NoteDisplayMode.DocOnly:\n        return 'In Page Only';\n      case NoteDisplayMode.EdgelessOnly:\n        return 'In Edgeless Only';\n    }\n  }\n\n  override render() {\n    this.style.setProperty('--panel-width', `${this.panelWidth}px`);\n\n    return repeat(\n      Object.keys(NoteDisplayMode),\n      mode => mode,\n      mode => {\n        const displayMode =\n          NoteDisplayMode[mode as keyof typeof NoteDisplayMode];\n        const isSelected = displayMode === this.displayMode;\n        return html`<div\n          class=\"item ${isSelected ? 'selected' : ''} ${displayMode}\"\n          @click=${() => this.onSelect(displayMode)}\n          @dblclick=${stopPropagation}\n          @pointerdown=${stopPropagation}\n        >\n          <div class=\"item-label\">${this._DisplayModeLabel(displayMode)}</div>\n          <div class=\"item-icon\">${this._DisplayModeIcon(displayMode)}</div>\n        </div>`;\n      }\n    );\n  }\n\n  @property({ attribute: false })\n  accessor displayMode!: NoteDisplayMode;\n\n  @property({ attribute: false })\n  accessor onSelect!: (displayMode: NoteDisplayMode) => void;\n\n  @property({ attribute: false })\n  accessor panelWidth = 240;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'note-display-mode-panel': NoteDisplayModePanel;\n  }\n}\n"]}