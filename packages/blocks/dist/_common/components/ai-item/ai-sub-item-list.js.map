{"version":3,"file":"ai-sub-item-list.js","sourceRoot":"","sources":["../../../../src/_common/components/ai-item/ai-sub-item-list.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,qCAAqC,CAAC;AAChE,OAAO,EACL,UAAU,EACV,SAAS,EACT,kBAAkB,EAClB,cAAc,GACf,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAAE,SAAS,EAAE,MAAM,qBAAqB,CAAC;AAChD,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,KAAK,CAAC;AAChE,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAI5D,OAAO,EAAE,cAAc,EAAE,MAAM,aAAa,CAAC;IAOhC,aAAa;4BALzB,kBAAkB,CAAC;YAClB,IAAI,EAAE,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC;YACtC,IAAI,EAAE,SAAS,CAAC,MAAM;SACvB,CAAC,EACD,aAAa,CAAC,kBAAkB,CAAC;;;;sBACC,cAAc,CAAC,UAAU,CAAC;;;;;;;;;;;;;6BAAlC,SAAQ,WAA0B;;;;2CAuD1D,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;gCAG9B,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;gCAG9B,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;mCAG9B,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAR/B,kMAAS,eAAe,6BAAf,eAAe,yGAA0C;YAGlE,iKAAS,IAAI,6BAAJ,IAAI,mFAAc;YAG3B,iKAAS,IAAI,6BAAJ,IAAI,mFAAgB;YAG7B,0KAAS,OAAO,6BAAP,OAAO,yFAA2B;YAjE7C,6KAkEC;;;;iBAjEiB,WAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;qBAaT,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC;;;;;;;;;;;;MAYlD,cAAc;GACjB,AA1BqB,CA0BpB;QAYO,MAAM;YACb,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC;gBAAE,OAAO,OAAO,CAAC;YACxE,OAAO,IAAI,CAAA;QACP,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CACtB,OAAO,CAAC,EAAE,CACR,IAAI,CAAA;;qBAEO,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;;qCAEhB,OAAO,CAAC,IAAI;uCACV,SAAS;iBAC/B,CACV;WACI,CAAC;QACV,CAAC;QAGD,kCAAkE;QAAlE,IAAS,eAAe,qDAA0C;QAAlE,IAAS,eAAe,2DAA0C;QAGlE,uBAA2B;QAA3B,IAAS,IAAI,0CAAc;QAA3B,IAAS,IAAI,gDAAc;QAG3B,uBAA6B;QAA7B,IAAS,IAAI,0CAAgB;QAA7B,IAAS,IAAI,gDAAgB;QAG7B,0BAA2C;QAA3C,IAAS,OAAO,6CAA2B;QAA3C,IAAS,OAAO,mDAA2B;;;YApCnC,iBAAY,GAAG,CAAC,OAAwB,EAAE,EAAE;gBAClD,IAAI,OAAO,CAAC,OAAO,EAAE,CAAC;oBACpB,qCAAqC;oBACrC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC7B,CAAC;gBAED,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;gBAC7B,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC;YACnB,CAAC,CAAC;YAmBO,gGAAmC,IAAI,eAAe,EAAE,EAAC;YAGzD,iJAAkB;YAGlB,sIAAoB;YAGpB,4IAAkC;;;;YAjEhC,uDAAa;;;;;SAAb,aAAa","sourcesContent":["import { EnterIcon } from '@blocksuite/affine-components/icons';\nimport {\n  EditorHost,\n  PropTypes,\n  requiredProperties,\n  WithDisposable,\n} from '@blocksuite/block-std';\nimport { baseTheme } from '@toeverything/theme';\nimport { css, html, LitElement, nothing, unsafeCSS } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\nimport type { AIItemConfig, AISubItemConfig } from './types.js';\n\nimport { menuItemStyles } from './styles.js';\n\n@requiredProperties({\n  host: PropTypes.instanceOf(EditorHost),\n  item: PropTypes.object,\n})\n@customElement('ai-sub-item-list')\nexport class AISubItemList extends WithDisposable(LitElement) {\n  static override styles = css`\n    .ai-sub-menu {\n      display: flex;\n      flex-direction: column;\n      box-sizing: border-box;\n      padding: 8px;\n      min-width: 240px;\n      max-height: 320px;\n      overflow-y: auto;\n      background: var(--affine-background-overlay-panel-color);\n      box-shadow: var(--affine-shadow-2);\n      border-radius: 8px;\n      z-index: var(--affine-z-index-popover);\n      font-family: ${unsafeCSS(baseTheme.fontSansFamily)};\n      color: var(--affine-text-primary-color);\n      text-align: justify;\n      font-feature-settings:\n        'clig' off,\n        'liga' off;\n      font-size: var(--affine-font-sm);\n      font-style: normal;\n      font-weight: 400;\n      line-height: 22px;\n      user-select: none;\n    }\n    ${menuItemStyles}\n  `;\n\n  private _handleClick = (subItem: AISubItemConfig) => {\n    if (subItem.handler) {\n      // TODO: add parameters to ai handler\n      subItem.handler(this.host);\n    }\n\n    this.abortController.abort();\n    this.onClick?.();\n  };\n\n  override render() {\n    if (!this.item.subItem || this.item.subItem.length <= 0) return nothing;\n    return html`<div class=\"ai-sub-menu\">\n      ${this.item.subItem?.map(\n        subItem =>\n          html`<div\n            class=\"menu-item\"\n            @click=${() => this._handleClick(subItem)}\n          >\n            <div class=\"item-name\">${subItem.type}</div>\n            <span class=\"enter-icon\">${EnterIcon}</span>\n          </div>`\n      )}\n    </div>`;\n  }\n\n  @property({ attribute: false })\n  accessor abortController: AbortController = new AbortController();\n\n  @property({ attribute: false })\n  accessor host!: EditorHost;\n\n  @property({ attribute: false })\n  accessor item!: AIItemConfig;\n\n  @property({ attribute: false })\n  accessor onClick: (() => void) | undefined;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'ai-sub-item-list': AISubItemList;\n  }\n}\n"]}