{"version":3,"file":"image-spec.js","sourceRoot":"","sources":["../../src/image-block/image-spec.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,kBAAkB,EAClB,gBAAgB,EAEhB,gBAAgB,EAChB,sBAAsB,GACvB,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAAE,OAAO,EAAE,MAAM,oBAAoB,CAAC;AAE7C,OAAO,EAAE,QAAQ,EAAE,MAAM,qBAAqB,CAAC;AAC/C,OAAO,EAAE,iBAAiB,EAAE,MAAM,oBAAoB,CAAC;AAEvD,MAAM,CAAC,MAAM,cAAc,GAAoB;IAC7C,gBAAgB,CAAC,cAAc,CAAC;IAChC,iBAAiB;IACjB,gBAAgB,CAAC,QAAQ,CAAC;IAC1B,kBAAkB,CAAC,cAAc,EAAE,KAAK,CAAC,EAAE;QACzC,MAAM,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QAE7C,IAAI,MAAM,EAAE,OAAO,KAAK,gBAAgB,EAAE,CAAC;YACzC,OAAO,OAAO,CAAA,uBAAuB,CAAC;QACxC,CAAC;QAED,OAAO,OAAO,CAAA,cAAc,CAAC;IAC/B,CAAC,CAAC;IACF,sBAAsB,CAAC,cAAc,EAAE;QACrC,YAAY,EAAE,OAAO,CAAA,6BAA6B;KACnD,CAAC;CACH,CAAC","sourcesContent":["import {\n  BlockViewExtension,\n  CommandExtension,\n  type ExtensionType,\n  FlavourExtension,\n  WidgetViewMapExtension,\n} from '@lumensuite/block-std';\nimport { literal } from 'lit/static-html.js';\n\nimport { commands } from './commands/index.js';\nimport { ImageBlockService } from './image-service.js';\n\nexport const ImageBlockSpec: ExtensionType[] = [\n  FlavourExtension('affine:image'),\n  ImageBlockService,\n  CommandExtension(commands),\n  BlockViewExtension('affine:image', model => {\n    const parent = model.doc.getParent(model.id);\n\n    if (parent?.flavour === 'affine:surface') {\n      return literal`affine-edgeless-image`;\n    }\n\n    return literal`affine-image`;\n  }),\n  WidgetViewMapExtension('affine:image', {\n    imageToolbar: literal`affine-image-toolbar-widget`,\n  }),\n];\n"]}