{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"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","sourcesContent":["/// <reference types=\"@lumensuite/global\" />\nimport '@lumensuite/affine-block-paragraph';\nimport '@lumensuite/affine-block-list';\nimport '@lumensuite/affine-block-surface';\nimport '@lumensuite/affine-components/context-menu';\nimport '@lumensuite/affine-components/rich-text';\nimport '@lumensuite/affine-components/toolbar';\nimport { deserializeXYWH, Point } from '@lumensuite/global/utils';\n\nimport { matchFlavours } from './_common/utils/index.js';\nimport './code-block/highlight/affine-code-unit.js';\nimport './database-block/index.js';\nimport './divider-block/index.js';\nimport './frame-block/index.js';\nimport './image-block/index.js';\nimport './note-block/index.js';\nimport { splitElements } from './root-block/edgeless/utils/clipboard-utils.js';\nimport { isCanvasElement } from './root-block/edgeless/utils/query.js';\n// manual import to avoid being tree-shaken\nimport './root-block/index.js';\nimport './surface-ref-block/index.js';\n\nexport * from './_common/adapters/index.js';\n\nexport * from './_common/components/ai-item/index.js';\nexport type { NotificationService } from './_common/components/index.js';\nexport { scrollbarStyle } from './_common/components/index.js';\nexport { type NavigatorMode } from './_common/edgeless/frame/consts.js';\nexport { EmbedBlockComponent } from './_common/embed-block-helper/index.js';\nexport * from './_common/test-utils/test-utils.js';\nexport * from './_common/transformers/index.js';\nexport { type AbstractEditor } from './_common/types.js';\nexport * from './_specs/index.js';\nexport * from './attachment-block/index.js';\nexport * from './bookmark-block/index.js';\nexport * from './code-block/index.js';\nexport * from './data-view-block/index.js';\nexport * from './database-block/index.js';\nexport * from './divider-block/index.js';\nexport * from './edgeless-text-block/index.js';\nexport * from './embed-figma-block/index.js';\nexport * from './embed-github-block/index.js';\nexport * from './embed-html-block/index.js';\nexport * from './embed-linked-doc-block/index.js';\nexport * from './embed-loom-block/index.js';\nexport * from './embed-synced-doc-block/index.js';\nexport * from './embed-youtube-block/index.js';\nexport * from './frame-block/index.js';\nexport * from './image-block/index.js';\nexport * from './latex-block/index.js';\nexport * from './note-block/index.js';\nexport { EdgelessTemplatePanel } from './root-block/edgeless/components/toolbar/template/template-panel.js';\nexport type {\n  Template,\n  TemplateCategory,\n  TemplateManager,\n} from './root-block/edgeless/components/toolbar/template/template-type.js';\nexport { CopilotSelectionController } from './root-block/edgeless/tools/copilot-tool.js';\nexport * from './root-block/index.js';\nexport * from './schemas.js';\nexport {\n  markdownToMindmap,\n  MiniMindmapPreview,\n} from './surface-block/mini-mindmap/mindmap-preview.js';\nexport * from './surface-ref-block/index.js';\nexport * from '@lumensuite/affine-block-list';\nexport * from '@lumensuite/affine-block-paragraph';\nexport * from '@lumensuite/affine-block-surface';\nexport { type MenuOptions } from '@lumensuite/affine-components/context-menu';\nexport {\n  HoverController,\n  whenHover,\n} from '@lumensuite/affine-components/hover';\nexport {\n  ArrowDownSmallIcon,\n  CloseIcon,\n  DocIcon,\n  DualLinkIcon16,\n  LinkedDocIcon,\n  PlusIcon,\n  TagsIcon,\n} from '@lumensuite/affine-components/icons';\nexport * from '@lumensuite/affine-components/icons';\nexport {\n  isPeekable,\n  peek,\n  Peekable,\n  PeekableController,\n  type PeekViewService,\n} from '@lumensuite/affine-components/peek';\nexport {\n  createLitPortal,\n  createSimplePortal,\n} from '@lumensuite/affine-components/portal';\nexport {\n  type AffineInlineEditor,\n  AffineReference,\n  type AffineTextAttributes,\n  InlineManager,\n  type InlineMarkdownMatch,\n  type InlineSpecs,\n  ReferenceNodeConfig,\n  RichText,\n} from '@lumensuite/affine-components/rich-text';\nexport { toast } from '@lumensuite/affine-components/toast';\nexport {\n  type AdvancedMenuItem,\n  type FatMenuItems,\n  groupsToActions,\n  type MenuItem,\n  type MenuItemGroup,\n  renderActions,\n  renderGroups,\n  renderToolbarSeparator,\n  Tooltip,\n} from '@lumensuite/affine-components/toolbar';\nexport * from '@lumensuite/affine-model';\nexport * from '@lumensuite/affine-shared/services';\nexport {\n  ColorVariables,\n  FontFamilyVariables,\n  SizeVariables,\n  StyleVariables,\n  ThemeObserver,\n} from '@lumensuite/affine-shared/theme';\n\nexport {\n  createButtonPopper,\n  createDefaultDoc,\n  findNoteBlockModel,\n  isInsideEdgelessEditor,\n  isInsidePageEditor,\n  matchFlavours,\n  on,\n  once,\n  openFileOrFiles,\n  printToPdf,\n} from '@lumensuite/affine-shared/utils';\n\nexport const BlocksUtils = {\n  splitElements,\n  matchFlavours,\n  deserializeXYWH,\n  isCanvasElement,\n  Point,\n};\n\nconst env: Record<string, unknown> =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof window !== 'undefined'\n      ? window\n      : // @ts-ignore\n        typeof global !== 'undefined'\n        ? // @ts-ignore\n          global\n        : {};\nconst importIdentifier = '__ $BLOCKSUITE_BLOCKS$ __';\n\nif (env[importIdentifier] === true) {\n  // https://github.com/yjs/yjs/issues/438\n  console.error(\n    '@lumensuite/blocks was already imported. This breaks constructor checks and will lead to issues!'\n  );\n}\n\nenv[importIdentifier] = true;\n"]}