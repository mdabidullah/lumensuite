{"version":3,"file":"hachure-filler.js","sourceRoot":"","sources":["../../../../src/utils/rough/fillers/hachure-filler.ts"],"names":[],"mappings":"AAIA,OAAO,EAAE,mBAAmB,EAAE,MAAM,wBAAwB,CAAC;AAE7D,MAAM,OAAO,aAAa;IAGxB,YAAY,MAAoB;QAC9B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAES,aAAa,CAAC,WAAsB,EAAE,CAAkB;QAChE,MAAM,KAAK,GAAG,mBAAmB,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;QAClD,MAAM,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACvC,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,CAAC;IACrC,CAAC;IAED,YAAY,CAAC,WAAsB,EAAE,CAAkB;QACrD,OAAO,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IAC5C,CAAC;IAES,WAAW,CAAC,KAAa,EAAE,CAAkB;QACrD,MAAM,GAAG,GAAS,EAAE,CAAC;QACrB,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;YACzB,GAAG,CAAC,IAAI,CACN,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAC1B,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACV,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACV,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACV,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACV,CAAC,CACF,CACF,CAAC;QACJ,CAAC;QACD,OAAO,GAAG,CAAC;IACb,CAAC;CACF","sourcesContent":["import type { Op, OpSet, ResolvedOptions } from '../core.js';\nimport type { Line, Point } from '../geometry.js';\nimport type { PatternFiller, RenderHelper } from './filler-interface.js';\n\nimport { polygonHachureLines } from './scan-line-hachure.js';\n\nexport class HachureFiller implements PatternFiller {\n  private helper: RenderHelper;\n\n  constructor(helper: RenderHelper) {\n    this.helper = helper;\n  }\n\n  protected _fillPolygons(polygonList: Point[][], o: ResolvedOptions): OpSet {\n    const lines = polygonHachureLines(polygonList, o);\n    const ops = this.renderLines(lines, o);\n    return { type: 'fillSketch', ops };\n  }\n\n  fillPolygons(polygonList: Point[][], o: ResolvedOptions): OpSet {\n    return this._fillPolygons(polygonList, o);\n  }\n\n  protected renderLines(lines: Line[], o: ResolvedOptions): Op[] {\n    const ops: Op[] = [];\n    for (const line of lines) {\n      ops.push(\n        ...this.helper.doubleLineOps(\n          line[0][0],\n          line[0][1],\n          line[1][0],\n          line[1][1],\n          o\n        )\n      );\n    }\n    return ops;\n  }\n}\n"]}