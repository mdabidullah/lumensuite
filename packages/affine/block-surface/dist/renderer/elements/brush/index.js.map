{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/renderer/elements/brush/index.ts"],"names":[],"mappings":"AAIA,MAAM,UAAU,KAAK,CACnB,KAAwB,EACxB,GAA6B,EAC7B,MAAiB,EACjB,QAAwB;IAExB,MAAM,EAAE,MAAM,EAAE,GAAG,KAAK,CAAC;IACzB,MAAM,CAAC,EAAE,AAAD,EAAG,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,gBAAgB,CAAC;IAC1C,MAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;IACjB,MAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;IAEjB,GAAG,CAAC,YAAY,CACd,MAAM,CAAC,aAAa,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CACxE,CAAC;IAEF,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;IAEnE,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;IAEtB,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;AACvC,CAAC","sourcesContent":["import type { BrushElementModel } from '@blocksuite/affine-model';\n\nimport type { CanvasRenderer } from '../../canvas-renderer.js';\n\nexport function brush(\n  model: BrushElementModel,\n  ctx: CanvasRenderingContext2D,\n  matrix: DOMMatrix,\n  renderer: CanvasRenderer\n) {\n  const { rotate } = model;\n  const [, , w, h] = model.deserializedXYWH;\n  const cx = w / 2;\n  const cy = h / 2;\n\n  ctx.setTransform(\n    matrix.translateSelf(cx, cy).rotateSelf(rotate).translateSelf(-cx, -cy)\n  );\n\n  const color = renderer.getColorValue(model.color, '#000000', true);\n\n  ctx.fillStyle = color;\n\n  ctx.fill(new Path2D(model.commands));\n}\n"]}