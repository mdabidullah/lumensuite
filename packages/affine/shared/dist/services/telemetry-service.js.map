{"version":3,"file":"telemetry-service.js","sourceRoot":"","sources":["../../src/services/telemetry-service.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,uBAAuB,CAAC;AA0DzD,MAAM,CAAC,MAAM,iBAAiB,GAAG,gBAAgB,CAC/C,wBAAwB,CACzB,CAAC","sourcesContent":["import { createIdentifier } from '@lumensuite/global/di';\n\nexport type ElementCreationSource =\n  | 'shortcut'\n  | 'toolbar:general'\n  | 'toolbar:dnd'\n  | 'canvas:drop'\n  | 'canvas:draw'\n  | 'canvas:dbclick'\n  | 'canvas:paste'\n  | 'context-menu'\n  | 'ai'\n  | 'internal'\n  | 'conversation'\n  | 'manually save';\n\nexport interface TelemetryEvent {\n  page?: string;\n  segment?: string;\n  module?: string;\n  control?: string;\n  type?: string;\n  category?: string;\n  other?: unknown;\n}\n\nexport interface DocCreatedEvent extends TelemetryEvent {\n  page?: 'doc editor' | 'whiteboard editor';\n  segment?: 'whiteboard' | 'note' | 'doc';\n  module?:\n    | 'slash commands'\n    | 'format toolbar'\n    | 'edgeless toolbar'\n    | 'inline @';\n  category?: 'page' | 'whiteboard';\n}\n\nexport interface ElementCreationEvent extends TelemetryEvent {\n  segment?: 'toolbar' | 'whiteboard' | 'right sidebar';\n  page: 'whiteboard editor';\n  module?: 'toolbar' | 'canvas' | 'ai chat panel';\n  control?: ElementCreationSource;\n}\n\nexport interface TelemetryEventMap {\n  DocCreated: DocCreatedEvent;\n  LinkedDocCreated: TelemetryEvent;\n  SplitNote: TelemetryEvent;\n  CanvasElementAdded: ElementCreationEvent;\n}\n\nexport interface TelemetryService {\n  track<T extends keyof TelemetryEventMap>(\n    eventName: T,\n    props: TelemetryEventMap[T]\n  ): void;\n}\n\nexport const TelemetryProvider = createIdentifier<TelemetryService>(\n  'AffineTelemetryService'\n);\n"]}