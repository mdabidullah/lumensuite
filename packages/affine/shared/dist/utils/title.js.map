{"version":3,"file":"title.js","sourceRoot":"","sources":["../../src/utils/title.ts"],"names":[],"mappings":"AAGA,SAAS,uBAAuB,CAAC,UAAsB;IACrD,MAAM,WAAW,GAAG,UAAU,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;IAChE,IAAI,CAAC,WAAW;QAAE,OAAO,IAAI,CAAC;IAC9B,OAAO,WAAW,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;AAChD,CAAC;AAED,MAAM,UAAU,uBAAuB,CACrC,UAAsB;IAEtB,MAAM,QAAQ,GAAG,uBAAuB,CAAC,UAAU,CAAC,CAAC;IACrD,IAAI,CAAC,QAAQ;QAAE,OAAO,IAAI,CAAC;IAC3B,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAE1C,WAAW,CAAC,CAAC;IACf,IAAI,CAAC,aAAa,IAAI,CAAC,aAAa,CAAC,YAAY;QAAE,OAAO,IAAI,CAAC;IAC/D,OAAO,aAAa,CAAC,YAAY,CAAC;AACpC,CAAC;AAED,MAAM,UAAU,UAAU,CAAC,UAAsB,EAAE,KAAK,GAAG,QAAQ,EAAE,GAAG,GAAG,CAAC;IAC1E,MAAM,iBAAiB,GAAG,uBAAuB,CAAC,UAAU,CAAC,CAAC;IAC9D,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACvB,OAAO;IACT,CAAC;IAED,IAAI,KAAK,GAAG,iBAAiB,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QAC3C,KAAK,GAAG,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC;IACzC,CAAC;IACD,iBAAiB,CAAC,cAAc,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;AAC3D,CAAC","sourcesContent":["import type { EditorHost } from '@blocksuite/block-std';\nimport type { InlineEditor } from '@blocksuite/inline';\n\nfunction getDocTitleByEditorHost(editorHost: EditorHost): HTMLElement | null {\n  const docViewport = editorHost.closest('.affine-page-viewport');\n  if (!docViewport) return null;\n  return docViewport.querySelector('doc-title');\n}\n\nexport function getDocTitleInlineEditor(\n  editorHost: EditorHost\n): InlineEditor | null {\n  const docTitle = getDocTitleByEditorHost(editorHost);\n  if (!docTitle) return null;\n  const titleRichText = docTitle.querySelector<\n    HTMLElement & { inlineEditor: InlineEditor }\n  >('rich-text');\n  if (!titleRichText || !titleRichText.inlineEditor) return null;\n  return titleRichText.inlineEditor;\n}\n\nexport function focusTitle(editorHost: EditorHost, index = Infinity, len = 0) {\n  const titleInlineEditor = getDocTitleInlineEditor(editorHost);\n  if (!titleInlineEditor) {\n    return;\n  }\n\n  if (index > titleInlineEditor.yText.length) {\n    index = titleInlineEditor.yText.length;\n  }\n  titleInlineEditor.setInlineRange({ index, length: len });\n}\n"]}