{"version":3,"file":"query.js","sourceRoot":"","sources":["../../../src/utils/dom/query.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,aAAa,EAAuB,MAAM,uBAAuB,CAAC;AAE3E,MAAM,aAAa,GAAG,IAAI,aAAa,GAAG,CAAC;AAE3C,MAAM,UAAU,iBAAiB,CAC/B,OAAgB;IAEhB,MAAM,YAAY,GAAG,OAAO,CAAC,OAAO,CAAiB,aAAa,CAAC,CAAC;IACpE,IAAI,CAAC,YAAY,EAAE,CAAC;QAClB,OAAO,IAAI,CAAC;IACd,CAAC;IACD,OAAO,YAAY,CAAC,KAAc,CAAC;AACrC,CAAC;AAED,MAAM,UAAU,gBAAgB,CAC9B,OAAgB;IAEhB,MAAM,QAAQ,GAAG,oBAAoB,CAAC,OAAO,CAAC,CAAC;IAC/C,IAAI,QAAQ;QAAE,OAAO,QAAQ,CAAC;IAE9B,MAAM,YAAY,GAAG,wBAAwB,CAAC,OAAO,CAAC,CAAC;IACvD,IAAI,YAAY;QAAE,OAAO,YAAY,CAAC;IAEtC,OAAO,IAAI,CAAC;AACd,CAAC;AAED,MAAM,UAAU,oBAAoB,CAClC,OAAgB;IAEhB,OAAO,OAAO,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;AAC7C,CAAC;AAED,MAAM,UAAU,wBAAwB,CACtC,OAAgB;IAEhB,OAAO,OAAO,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;AACjD,CAAC","sourcesContent":["import type { RootBlockModel } from '@blocksuite/affine-model';\nimport type { BlockModel } from '@blocksuite/store';\n\nimport { BLOCK_ID_ATTR, type BlockComponent } from '@blocksuite/block-std';\n\nconst ATTR_SELECTOR = `[${BLOCK_ID_ATTR}]`;\n\nexport function getModelByElement<Model extends BlockModel>(\n  element: Element\n): Model | null {\n  const closestBlock = element.closest<BlockComponent>(ATTR_SELECTOR);\n  if (!closestBlock) {\n    return null;\n  }\n  return closestBlock.model as Model;\n}\n\nexport function getRootByElement(\n  element: Element\n): BlockComponent<RootBlockModel> | null {\n  const pageRoot = getPageRootByElement(element);\n  if (pageRoot) return pageRoot;\n\n  const edgelessRoot = getEdgelessRootByElement(element);\n  if (edgelessRoot) return edgelessRoot;\n\n  return null;\n}\n\nexport function getPageRootByElement(\n  element: Element\n): BlockComponent<RootBlockModel> | null {\n  return element.closest('affine-page-root');\n}\n\nexport function getEdgelessRootByElement(\n  element: Element\n): BlockComponent<RootBlockModel> | null {\n  return element.closest('affine-edgeless-root');\n}\n"]}