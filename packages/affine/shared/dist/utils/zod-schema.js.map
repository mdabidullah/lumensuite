{"version":3,"file":"zod-schema.js","sourceRoot":"","sources":["../../src/utils/zod-schema.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  ConnectorMode,\n  DEFAULT_CONNECTOR_COLOR,\n  DEFAULT_FRONT_END_POINT_STYLE,\n  DEFAULT_NOTE_BACKGROUND_COLOR,\n  DEFAULT_NOTE_BORDER_SIZE,\n  DEFAULT_NOTE_BORDER_STYLE,\n  DEFAULT_NOTE_CORNER,\n  DEFAULT_NOTE_SHADOW,\n  DEFAULT_REAR_END_POINT_STYLE,\n  DEFAULT_ROUGHNESS,\n  DEFAULT_SHAPE_FILL_COLOR,\n  DEFAULT_SHAPE_STROKE_COLOR,\n  DEFAULT_SHAPE_TEXT_COLOR,\n  DEFAULT_TEXT_COLOR,\n  FillColorsSchema,\n  FontFamily,\n  FontStyle,\n  FontWeight,\n  LayoutType,\n  LineColor,\n  LineColorsSchema,\n  LineWidth,\n  MindmapStyle,\n  NoteBackgroundColorsSchema,\n  NoteDisplayMode,\n  NoteShadowsSchema,\n  PointStyle,\n  ShapeStyle,\n  StrokeColorsSchema,\n  StrokeStyle,\n  TextAlign,\n  TextVerticalAlign,\n} from '@blocksuite/affine-model';\nimport { z } from 'zod';\n\nconst ConnectorEndpointSchema = z.nativeEnum(PointStyle);\nconst StrokeStyleSchema = z.nativeEnum(StrokeStyle);\nconst LineWidthSchema = z.nativeEnum(LineWidth);\nconst ShapeStyleSchema = z.nativeEnum(ShapeStyle);\nconst FontFamilySchema = z.nativeEnum(FontFamily);\nconst FontWeightSchema = z.nativeEnum(FontWeight);\nconst FontStyleSchema = z.nativeEnum(FontStyle);\nconst TextAlignSchema = z.nativeEnum(TextAlign);\nconst TextVerticalAlignSchema = z.nativeEnum(TextVerticalAlign);\nconst NoteDisplayModeSchema = z.nativeEnum(NoteDisplayMode);\nconst ConnectorModeSchema = z.nativeEnum(ConnectorMode);\nconst LayoutTypeSchema = z.nativeEnum(LayoutType);\nconst MindmapStyleSchema = z.nativeEnum(MindmapStyle);\n\nexport const ColorSchema = z.union([\n  z.object({\n    normal: z.string(),\n  }),\n  z.object({\n    light: z.string(),\n    dark: z.string(),\n  }),\n]);\nconst LineColorSchema = z.union([LineColorsSchema, ColorSchema]);\nconst ShapeFillColorSchema = z.union([FillColorsSchema, ColorSchema]);\nconst ShapeStrokeColorSchema = z.union([StrokeColorsSchema, ColorSchema]);\nconst TextColorSchema = z.union([LineColorsSchema, ColorSchema]);\nconst NoteBackgroundColorSchema = z.union([\n  NoteBackgroundColorsSchema,\n  ColorSchema,\n]);\n\nexport const ConnectorSchema = z\n  .object({\n    frontEndpointStyle: ConnectorEndpointSchema,\n    rearEndpointStyle: ConnectorEndpointSchema,\n    stroke: LineColorSchema,\n    strokeStyle: StrokeStyleSchema,\n    strokeWidth: LineWidthSchema,\n    rough: z.boolean(),\n    mode: ConnectorModeSchema,\n  })\n  .default({\n    frontEndpointStyle: DEFAULT_FRONT_END_POINT_STYLE,\n    rearEndpointStyle: DEFAULT_REAR_END_POINT_STYLE,\n    stroke: DEFAULT_CONNECTOR_COLOR,\n    strokeStyle: StrokeStyle.Solid,\n    strokeWidth: LineWidth.Two,\n    rough: false,\n    mode: ConnectorMode.Curve,\n  });\n\nexport const BrushSchema = z\n  .object({\n    color: LineColorSchema,\n    lineWidth: LineWidthSchema,\n  })\n  .default({\n    color: {\n      dark: LineColor.White,\n      light: LineColor.Black,\n    },\n    lineWidth: LineWidth.Four,\n  });\n\nconst DEFAULT_SHAPE = {\n  color: DEFAULT_SHAPE_TEXT_COLOR,\n  fillColor: DEFAULT_SHAPE_FILL_COLOR,\n  strokeColor: DEFAULT_SHAPE_STROKE_COLOR,\n  strokeStyle: StrokeStyle.Solid,\n  strokeWidth: LineWidth.Two,\n  shapeStyle: ShapeStyle.General,\n  filled: true,\n  radius: 0,\n  fontSize: 20,\n  fontFamily: FontFamily.Inter,\n  fontWeight: FontWeight.Regular,\n  fontStyle: FontStyle.Normal,\n  textAlign: TextAlign.Center,\n  roughness: DEFAULT_ROUGHNESS,\n};\n\nconst ShapeObject = {\n  color: TextColorSchema,\n  fillColor: ShapeFillColorSchema,\n  strokeColor: ShapeStrokeColorSchema,\n  strokeStyle: StrokeStyleSchema,\n  strokeWidth: z.number(),\n  shapeStyle: ShapeStyleSchema,\n  filled: z.boolean(),\n  radius: z.number(),\n  fontSize: z.number(),\n  fontFamily: FontFamilySchema,\n  fontWeight: FontWeightSchema,\n  fontStyle: FontStyleSchema,\n  textAlign: TextAlignSchema,\n  textHorizontalAlign: TextAlignSchema.optional(),\n  textVerticalAlign: TextVerticalAlignSchema.optional(),\n  roughness: z.number(),\n};\n\nexport const ShapeSchema = z.object(ShapeObject).default(DEFAULT_SHAPE);\n\nexport const RoundedShapeSchema = z\n  .object(ShapeObject)\n  .default({ ...DEFAULT_SHAPE, radius: 0.1 });\n\nexport const TextSchema = z\n  .object({\n    color: TextColorSchema,\n    fontFamily: FontFamilySchema,\n    textAlign: TextAlignSchema,\n    fontWeight: FontWeightSchema,\n    fontStyle: FontStyleSchema,\n    fontSize: z.number(),\n  })\n  .default({\n    color: DEFAULT_TEXT_COLOR,\n    fontFamily: FontFamily.Inter,\n    textAlign: TextAlign.Left,\n    fontWeight: FontWeight.Regular,\n    fontStyle: FontStyle.Normal,\n    fontSize: 24,\n  });\n\nexport const EdgelessTextSchema = z\n  .object({\n    color: TextColorSchema,\n    fontFamily: FontFamilySchema,\n    textAlign: TextAlignSchema,\n    fontWeight: FontWeightSchema,\n    fontStyle: FontStyleSchema,\n  })\n  .default({\n    color: DEFAULT_TEXT_COLOR,\n    fontFamily: FontFamily.Inter,\n    textAlign: TextAlign.Left,\n    fontWeight: FontWeight.Regular,\n    fontStyle: FontStyle.Normal,\n  });\n\nexport const NoteSchema = z\n  .object({\n    background: NoteBackgroundColorSchema,\n    displayMode: NoteDisplayModeSchema,\n    edgeless: z.object({\n      style: z.object({\n        borderRadius: z.number(),\n        borderSize: z.number(),\n        borderStyle: StrokeStyleSchema,\n        shadowType: NoteShadowsSchema,\n      }),\n    }),\n  })\n  .default({\n    background: DEFAULT_NOTE_BACKGROUND_COLOR,\n    displayMode: NoteDisplayMode.EdgelessOnly,\n    edgeless: {\n      style: {\n        borderRadius: DEFAULT_NOTE_CORNER,\n        borderSize: DEFAULT_NOTE_BORDER_SIZE,\n        borderStyle: DEFAULT_NOTE_BORDER_STYLE,\n        shadowType: DEFAULT_NOTE_SHADOW,\n      },\n    },\n  });\n\nexport const MindmapSchema = z\n  .object({\n    layoutType: LayoutTypeSchema,\n    style: MindmapStyleSchema,\n  })\n  .default({\n    layoutType: LayoutType.RIGHT,\n    style: MindmapStyle.ONE,\n  });\n\nexport const NodePropsSchema = z.object({\n  connector: ConnectorSchema,\n  brush: BrushSchema,\n  text: TextSchema,\n  mindmap: MindmapSchema,\n  'affine:edgeless-text': EdgelessTextSchema,\n  'affine:note': NoteSchema,\n  // shapes\n  'shape:diamond': ShapeSchema,\n  'shape:ellipse': ShapeSchema,\n  'shape:rect': ShapeSchema,\n  'shape:triangle': ShapeSchema,\n  'shape:roundedRect': RoundedShapeSchema,\n});\n\nexport type NodeProps = z.infer<typeof NodePropsSchema>;\n"]}