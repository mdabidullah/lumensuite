{"version":3,"file":"number-group.js","sourceRoot":"","sources":["../../../../../src/core/common/group-by/renderer/number-group.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,4CAA4C,CAAC;AACrE,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAChC,OAAO,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;AAElD,OAAO,EAAE,SAAS,EAAE,MAAM,WAAW,CAAC;IAGzB,eAAe;4BAD3B,aAAa,CAAC,mCAAmC,CAAC;;;;sBACd,SAAS;+BAAjB,SAAQ,WAAuC;;;;YAclE,WAAM,GAAG,GAAG,EAAE;gBACpB,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;oBAClB,OAAO;gBACT,CAAC;gBACD,OAAO,CAAC,IAAI,EAAE;oBACZ,OAAO,EAAE;wBACP,KAAK,EAAE;4BACL,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE;4BACjD,UAAU,EAAE,IAAI,CAAC,EAAE;gCACjB,MAAM,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gCACpC,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC;oCACtB,OAAO;gCACT,CAAC;gCACD,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC;4BAC1B,CAAC;yBACF;wBACD,KAAK,EAAE,EAAE;qBACV;iBACF,CAAC,CAAC;YACL,CAAC,CAAC;QAqBJ,CAAC;;;YAtDD,6KAsDC;;;;iBArDiB,WAAM,GAAG,GAAG,CAAA;;;;;;;;;;;GAW3B,AAXqB,CAWpB;QAuBiB,MAAM;YACvB,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,EAAE,CAAC;gBACvB,OAAO,IAAI,CAAA,sBAAsB,CAAC;YACpC,CAAC;YACD,IAAI,IAAI,CAAC,KAAK,IAAI,EAAE,EAAE,CAAC;gBACrB,OAAO,IAAI,CAAA;kBACC,IAAI,CAAC,MAAM;;;;aAIhB,CAAC;YACV,CAAC;YACD,OAAO,IAAI,CAAA;gBACC,IAAI,CAAC,MAAM;;;QAGnB,IAAI,CAAC,KAAK,GAAG,EAAE,MAAM,IAAI,CAAC,KAAK,GAAG,EAAE,GAAG,CAAC;WACrC,CAAC;QACV,CAAC;;YArDU,uDAAe;;;;;SAAf,eAAe","sourcesContent":["import { popMenu } from '@lumensuite/affine-components/context-menu';\nimport { css, html } from 'lit';\nimport { customElement } from 'lit/decorators.js';\n\nimport { BaseGroup } from './base.js';\n\n@customElement('data-view-group-title-number-view')\nexport class NumberGroupView extends BaseGroup<NonNullable<unknown>, number> {\n  static override styles = css`\n    .data-view-group-title-number-view {\n      border-radius: 8px;\n      padding: 4px 8px;\n      width: max-content;\n      cursor: pointer;\n    }\n\n    .data-view-group-title-number-view:hover {\n      background-color: var(--affine-hover-color);\n    }\n  `;\n\n  private _click = () => {\n    if (this.readonly) {\n      return;\n    }\n    popMenu(this, {\n      options: {\n        input: {\n          initValue: this.value ? `${this.value * 10}` : '',\n          onComplete: text => {\n            const num = Number.parseFloat(text);\n            if (Number.isNaN(num)) {\n              return;\n            }\n            this.updateValue?.(num);\n          },\n        },\n        items: [],\n      },\n    });\n  };\n\n  protected override render(): unknown {\n    if (this.value == null) {\n      return html` <div>Ungroups</div>`;\n    }\n    if (this.value >= 10) {\n      return html` <div\n        @click=\"${this._click}\"\n        class=\"data-view-group-title-number-view\"\n      >\n        >= 100\n      </div>`;\n    }\n    return html` <div\n      @click=\"${this._click}\"\n      class=\"data-view-group-title-number-view\"\n    >\n      ${this.value * 10} - ${this.value * 10 + 9}\n    </div>`;\n  }\n}\n"]}