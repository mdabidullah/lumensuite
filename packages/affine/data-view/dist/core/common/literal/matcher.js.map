{"version":3,"file":"matcher.js","sourceRoot":"","sources":["../../../../src/core/common/literal/matcher.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,OAAO,EAAE,MAAM,0BAA0B,CAAC;AACnD,OAAO,EACL,YAAY,GAEb,MAAM,4CAA4C,CAAC;AAEpD,MAAM,CAAC,MAAM,aAAa,GAAG,CAC3B,IAAW,EACX,KAAc,EACd,QAAkC,EAClC,EAAE;IACF,MAAM,IAAI,GAAG,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IACxC,IAAI,CAAC,IAAI,EAAE,CAAC;QACV,OAAO;IACT,CAAC;IACD,OAAO,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5D,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,cAAc,GAAG,CAC5B,MAAmB,EACnB,IAAW,EACX,KAAc,EACd,QAAkC,EAClC,EAAE;IACF,MAAM,IAAI,GAAG,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IACxC,IAAI,CAAC,IAAI,EAAE,CAAC;QACV,OAAO;IACT,CAAC;IACD,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;AAClD,CAAC,CAAC;AAWF,MAAM,CAAC,MAAM,cAAc,GAAG,IAAI,OAAO,EAAe,CAAC","sourcesContent":["import type { TType } from '../../logical/typesystem.js';\n\nimport { Matcher } from '../../logical/matcher.js';\nimport {\n  renderUniLit,\n  type UniComponent,\n} from '../../utils/uni-component/uni-component.js';\n\nexport const renderLiteral = (\n  type: TType,\n  value: unknown,\n  onChange: (value: unknown) => void\n) => {\n  const data = literalMatcher.match(type);\n  if (!data) {\n    return;\n  }\n  return renderUniLit(data.view, { value, onChange, type });\n};\n\nexport const popLiteralEdit = (\n  target: HTMLElement,\n  type: TType,\n  value: unknown,\n  onChange: (value: unknown) => void\n) => {\n  const data = literalMatcher.match(type);\n  if (!data) {\n    return;\n  }\n  data.popEdit(target, { value, onChange, type });\n};\n\nexport type LiteralViewProps<Value = unknown, Type extends TType = TType> = {\n  type: Type;\n  value?: Value;\n  onChange: (value?: Value) => void;\n};\nexport type LiteralData<Value = unknown> = {\n  view: UniComponent<LiteralViewProps<Value>>;\n  popEdit: (position: HTMLElement, props: LiteralViewProps<Value>) => void;\n};\nexport const literalMatcher = new Matcher<LiteralData>();\n"]}