{"version":3,"file":"popup.js","sourceRoot":"","sources":["../../../src/core/common/popup.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,aAAa,EAAE,eAAe,EAAE,MAAM,kBAAkB,CAAC;AAElE,OAAO,EAAE,cAAc,EAAE,MAAM,mBAAmB,CAAC;AAEnD,MAAM,CAAC,MAAM,mBAAmB,GAAG,CACjC,MAAmB,EACnB,OAAoB,EACpB,OAEC,EACD,EAAE;IACF,MAAM,CAAC,aAAa,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,eAAe,CAAC,MAAM,EAAE,OAAO,EAAE;QAC/B,UAAU,EAAE,CAAC,aAAa,EAAE,CAAC;KAC9B,CAAC;SACC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE;QACjB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE;YAC3B,IAAI,EAAE,GAAG,CAAC,IAAI;YACd,GAAG,EAAE,GAAG,CAAC,IAAI;SACd,CAAC,CAAC;IACL,CAAC,CAAC;SACD,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACxB,cAAc,CACZ,OAAO,EACP,GAAG,EAAE;QACH,OAAO,CAAC,MAAM,EAAE,CAAC;QACjB,OAAO,EAAE,OAAO,EAAE,EAAE,CAAC;IACvB,CAAC,EACD,WAAW,CACZ,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { autoPlacement, computePosition } from '@floating-ui/dom';\n\nimport { onClickOutside } from '../utils/utils.js';\n\nexport const createDatabasePopup = (\n  target: HTMLElement,\n  content: HTMLElement,\n  options?: {\n    onClose?: () => void;\n  }\n) => {\n  target.parentElement?.append(content);\n  computePosition(target, content, {\n    middleware: [autoPlacement()],\n  })\n    .then(({ x, y }) => {\n      Object.assign(content.style, {\n        left: `${x}px`,\n        top: `${y}px`,\n      });\n    })\n    .catch(console.error);\n  onClickOutside(\n    content,\n    () => {\n      content.remove();\n      options?.onClose?.();\n    },\n    'mousedown'\n  );\n};\n"]}