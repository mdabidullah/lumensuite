{"version":3,"file":"header.js","sourceRoot":"","sources":["../../../src/view-presets/kanban/header.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,4CAA4C,CAAC;AACrE,OAAO,EACL,iBAAiB,EACjB,aAAa,EACb,cAAc,GACf,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAAE,GAAG,EAAE,MAAM,KAAK,CAAC;AAC1B,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAC5D,OAAO,EAAE,IAAI,EAAE,MAAM,oBAAoB,CAAC;AAI1C,OAAO,WAAW,CAAC;AAEnB,MAAM,MAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;CAgBjB,CAAC;IAGW,YAAY;4BADxB,aAAa,CAAC,gCAAgC,CAAC;;;;sBACd,aAAa,CAC7C,cAAc,CAAC,iBAAiB,CAAC,CAClC;;;;4BAFyB,SAAQ,WAEjC;;;;gCAiCE,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAC/B,iKAAS,IAAI,6BAAJ,IAAI,mFAAoB;YApCnC,6KAqCC;;;;iBAlCiB,WAAM,GAAG,MAAM,AAAT,CAAU;QAuBvB,MAAM;YACb,OAAO,IAAI,CAAA;;;4CAG6B,IAAI,CAAC,UAAU;;KAEtD,CAAC;QACJ,CAAC;QAGD,uBAAiC;QAAjC,IAAS,IAAI,0CAAoB;QAAjC,IAAS,IAAI,gDAAoB;;;YA/BzB,eAAU,GAAG,CAAC,CAAa,EAAE,EAAE;gBACrC,OAAO,CAAC,CAAC,CAAC,MAAqB,EAAE;oBAC/B,OAAO,EAAE;wBACP,KAAK,EAAE;4BACL,MAAM,EAAE,IAAI;yBACb;wBACD,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK;6BACtC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,QAAQ,CAAC;6BACjE,GAAG,CAAC,MAAM,CAAC,EAAE;4BACZ,OAAO;gCACL,IAAI,EAAE,QAAQ;gCACd,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK;gCACxB,MAAM,EAAE,GAAG,EAAE;oCACX,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;gCACnC,CAAC;6BACF,CAAC;wBACJ,CAAC,CAAC;qBACL;iBACF,CAAC,CAAC;YACL,CAAC,CAAC;YAYO,kFAAwB;;;;YApCtB,uDAAY;;;;;SAAZ,YAAY","sourcesContent":["import { popMenu } from '@blocksuite/affine-components/context-menu';\nimport {\n  ShadowlessElement,\n  SignalWatcher,\n  WithDisposable,\n} from '@blocksuite/block-std';\nimport { css } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { html } from 'lit/static-html.js';\n\nimport type { KanbanSingleView } from './kanban-view-manager.js';\n\nimport './card.js';\n\nconst styles = css`\n  affine-data-view-kanban-header {\n    display: flex;\n    justify-content: space-between;\n    padding: 4px;\n  }\n\n  .select-group {\n    border-radius: 8px;\n    padding: 4px 8px;\n    cursor: pointer;\n  }\n\n  .select-group:hover {\n    background-color: var(--affine-hover-color);\n  }\n`;\n\n@customElement('affine-data-view-kanban-header')\nexport class KanbanHeader extends SignalWatcher(\n  WithDisposable(ShadowlessElement)\n) {\n  static override styles = styles;\n\n  private clickGroup = (e: MouseEvent) => {\n    popMenu(e.target as HTMLElement, {\n      options: {\n        input: {\n          search: true,\n        },\n        items: this.view.columnManagerList$.value\n          .filter(column => column.id !== this.view.view?.groupBy?.columnId)\n          .map(column => {\n            return {\n              type: 'action',\n              name: column.name$.value,\n              select: () => {\n                this.view.changeGroup(column.id);\n              },\n            };\n          }),\n      },\n    });\n  };\n\n  override render() {\n    return html`\n      <div></div>\n      <div>\n        <div class=\"select-group\" @click=\"${this.clickGroup}\">Group</div>\n      </div>\n    `;\n  }\n\n  @property({ attribute: false })\n  accessor view!: KanbanSingleView;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'affine-data-view-kanban-header': KanbanHeader;\n  }\n}\n"]}