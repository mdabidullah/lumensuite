{"version":3,"file":"tools-renderer.js","sourceRoot":"","sources":["../../../src/widget-presets/tools/tools-renderer.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAChC,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACnE,OAAO,EAAE,QAAQ,EAAE,MAAM,6BAA6B,CAAC;AACvD,OAAO,EAAE,MAAM,EAAE,MAAM,0BAA0B,CAAC;AASlD,OAAO,EAAuB,YAAY,EAAE,MAAM,qBAAqB,CAAC;AACxE,OAAO,EAAE,UAAU,EAAE,MAAM,kCAAkC,CAAC;AAC9D,OAAO,4BAA4B,CAAC;AACpC,OAAO,4BAA4B,CAAC;AACpC,OAAO,oCAAoC,CAAC;AAC5C,OAAO,wCAAwC,CAAC;AAEhD,MAAM,MAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;CAyBjB,CAAC;IAGW,mBAAmB;4BAD/B,aAAa,CAAC,wBAAwB,CAAC;;;;sBACC,UAAU;;;;;;;mCAAlB,SAAQ,WAAU;;;;uCAoBhD,KAAK,EAAE;oCAGP,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAF/B,sLAAS,WAAW,6BAAX,WAAW,iGAAS;YAG7B,6KAAS,QAAQ,6BAAR,QAAQ,2FAAoC;YAxBvD,6KAyBC;;;;iBAxBiB,WAAM,GAAG,MAAM,AAAT,CAAU;QAEvB,MAAM;YACb,MAAM,SAAS,GAAG,QAAQ,CAAC;gBACzB,cAAc,EAAE,IAAI,CAAC,WAAW;gBAChC,yBAAyB,EAAE,IAAI;aAChC,CAAC,CAAC;YACH,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC5C,OAAO,IAAI,CAAA,gBAAgB,SAAS;QAChC,MAAM,CAAC,KAAK,IAAI,EAAE,EAAE,GAAG,CAAC,EAAE;gBAC1B,MAAM,KAAK,GAAwB;oBACjC,IAAI,EAAE,IAAI,CAAC,IAAI;oBACf,WAAW,EAAE,IAAI,CAAC,WAAW;iBAC9B,CAAC;gBACF,OAAO,YAAY,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YAClC,CAAC,CAAC;WACG,CAAC;QACV,CAAC;QAGD,mFAAuB,KAAK,EAAC;QAA7B,IAAS,WAAW,iDAAS;QAA7B,IAAS,WAAW,uDAAS;QAG7B,gJAAqD;QAArD,IAAS,QAAQ,8CAAoC;QAArD,IAAS,QAAQ,oDAAoC;;;;;;YAxB1C,uDAAmB;;;;;SAAnB,mBAAmB;AAgChC,MAAM,CAAC,MAAM,WAAW,GAAG,CACzB,IAAgB,EAChB,WAA2B,EAC3B,UAAuB,EACvB,EAAE;IACF,OAAO,IAAI,CAAA;oBACO,WAAW;aAClB,IAAI;mBACE,UAAU;6BACA,CAAC;AAC9B,CAAC,CAAC","sourcesContent":["import { css, html } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { repeat } from 'lit/directives/repeat.js';\n\nimport type { SingleView } from '../../core/view-manager/single-view.js';\nimport type { ViewManager } from '../../core/view-manager/view-manager.js';\nimport type {\n  DataViewWidget,\n  DataViewWidgetProps,\n} from '../../core/widget/types.js';\n\nimport { type DataViewExpose, renderUniLit } from '../../core/index.js';\nimport { WidgetBase } from '../../core/widget/widget-base.js';\nimport './presets/filter/filter.js';\nimport './presets/search/search.js';\nimport './presets/table-add-row/add-row.js';\nimport './presets/view-options/view-options.js';\n\nconst styles = css`\n  .affine-database-toolbar {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    visibility: hidden;\n    opacity: 0;\n    transition: opacity 150ms cubic-bezier(0.42, 0, 1, 1);\n  }\n\n  .toolbar-hover-container:hover .affine-database-toolbar {\n    visibility: visible;\n    opacity: 1;\n  }\n\n  .show-toolbar {\n    visibility: visible;\n    opacity: 1;\n  }\n\n  @media print {\n    .affine-database-toolbar {\n      display: none;\n    }\n  }\n`;\n\n@customElement('data-view-header-tools')\nexport class DataViewHeaderTools extends WidgetBase {\n  static override styles = styles;\n\n  override render() {\n    const classList = classMap({\n      'show-toolbar': this.showToolBar,\n      'affine-database-toolbar': true,\n    });\n    const tools = this.toolsMap[this.view.type];\n    return html` <div class=\"${classList}\">\n      ${repeat(tools ?? [], uni => {\n        const props: DataViewWidgetProps = {\n          view: this.view,\n          viewMethods: this.viewMethods,\n        };\n        return renderUniLit(uni, props);\n      })}\n    </div>`;\n  }\n\n  @state()\n  accessor showToolBar = false;\n\n  @property({ attribute: false })\n  accessor toolsMap!: Record<string, DataViewWidget[]>;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'data-view-header-tools': DataViewHeaderTools;\n  }\n}\nexport const renderTools = (\n  view: SingleView,\n  viewMethods: DataViewExpose,\n  viewSource: ViewManager\n) => {\n  return html` <data-view-header-tools\n    .viewMethods=\"${viewMethods}\"\n    .view=\"${view}\"\n    .viewSource=\"${viewSource}\"\n  ></data-view-header-tools>`;\n};\n"]}