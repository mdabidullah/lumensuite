{"version":3,"file":"image-model.js","sourceRoot":"","sources":["../../../src/blocks/image/image-model.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,UAAU,EAAE,iBAAiB,EAAE,MAAM,mBAAmB,CAAC;AAElE,OAAO,EAAE,aAAa,EAAE,MAAM,sBAAsB,CAAC;AACrD,OAAO,EAAE,qBAAqB,EAAE,MAAM,wBAAwB,CAAC;AAa/D,MAAM,iBAAiB,GAAoB;IACzC,OAAO,EAAE,EAAE;IACX,QAAQ,EAAE,EAAE;IACZ,KAAK,EAAE,CAAC;IACR,MAAM,EAAE,CAAC;IACT,KAAK,EAAE,IAAI;IACX,IAAI,EAAE,WAAW;IACjB,MAAM,EAAE,CAAC;IACT,IAAI,EAAE,CAAC,CAAC;CACT,CAAC;AAEF,MAAM,CAAC,MAAM,gBAAgB,GAAG,iBAAiB,CAAC;IAChD,OAAO,EAAE,cAAc;IACvB,KAAK,EAAE,GAAG,EAAE,CAAC,iBAAiB;IAC9B,QAAQ,EAAE;QACR,OAAO,EAAE,CAAC;QACV,IAAI,EAAE,SAAS;KAChB;IACD,WAAW,EAAE,GAAG,EAAE,CAAC,IAAI,qBAAqB,EAAE;IAC9C,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,eAAe,EAAE;CACrC,CAAC,CAAC;AAEH,MAAM,OAAO,eACX,SAAQ,aAAa,CAAkB,UAAU,CAAC;CAClB","sourcesContent":["import type { GfxElementGeometry } from '@lumensuite/block-std/gfx';\nimport type { SerializedXYWH } from '@lumensuite/global/utils';\n\nimport { BlockModel, defineBlockSchema } from '@lumensuite/store';\n\nimport { GfxCompatible } from '../../utils/index.js';\nimport { ImageBlockTransformer } from './image-transformer.js';\n\nexport type ImageBlockProps = {\n  caption?: string;\n  sourceId?: string;\n  width?: number;\n  height?: number;\n  index: string;\n  xywh: SerializedXYWH;\n  rotate: number;\n  size?: number;\n};\n\nconst defaultImageProps: ImageBlockProps = {\n  caption: '',\n  sourceId: '',\n  width: 0,\n  height: 0,\n  index: 'a0',\n  xywh: '[0,0,0,0]',\n  rotate: 0,\n  size: -1,\n};\n\nexport const ImageBlockSchema = defineBlockSchema({\n  flavour: 'affine:image',\n  props: () => defaultImageProps,\n  metadata: {\n    version: 1,\n    role: 'content',\n  },\n  transformer: () => new ImageBlockTransformer(),\n  toModel: () => new ImageBlockModel(),\n});\n\nexport class ImageBlockModel\n  extends GfxCompatible<ImageBlockProps>(BlockModel)\n  implements GfxElementGeometry {}\n\ndeclare global {\n  namespace LumenSuite {\n    interface BlockModels {\n      'affine:image': ImageBlockModel;\n    }\n    interface EdgelessBlockModelMap {\n      'affine:image': ImageBlockModel;\n    }\n  }\n}\n"]}