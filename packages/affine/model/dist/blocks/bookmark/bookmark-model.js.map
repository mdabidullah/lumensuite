{"version":3,"file":"bookmark-model.js","sourceRoot":"","sources":["../../../src/blocks/bookmark/bookmark-model.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,UAAU,EAAE,iBAAiB,EAAE,MAAM,mBAAmB,CAAC;AAIlE,OAAO,EAAE,aAAa,EAAE,MAAM,sBAAsB,CAAC;AAQrD,MAAM,CAAC,MAAM,cAAc,GAAqB;IAC9C,UAAU;IACV,YAAY;IACZ,MAAM;IACN,MAAM;CACE,CAAC;AASX,MAAM,oBAAoB,GAAuB;IAC/C,KAAK,EAAE,cAAc,CAAC,CAAC,CAAC;IACxB,GAAG,EAAE,EAAE;IACP,OAAO,EAAE,IAAI;IAEb,WAAW,EAAE,IAAI;IACjB,IAAI,EAAE,IAAI;IACV,KAAK,EAAE,IAAI;IACX,KAAK,EAAE,IAAI;IAEX,KAAK,EAAE,IAAI;IACX,IAAI,EAAE,WAAW;IACjB,MAAM,EAAE,CAAC;CACV,CAAC;AAEF,MAAM,CAAC,MAAM,mBAAmB,GAAG,iBAAiB,CAAC;IACnD,OAAO,EAAE,iBAAiB;IAC1B,KAAK,EAAE,GAAuB,EAAE,CAAC,oBAAoB;IACrD,QAAQ,EAAE;QACR,OAAO,EAAE,CAAC;QACV,IAAI,EAAE,SAAS;QACf,MAAM,EAAE;YACN,aAAa;YACb,gBAAgB;YAChB,sBAAsB;YACtB,kBAAkB;YAClB,aAAa;SACd;KACF;IACD,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,kBAAkB,EAAE;CACxC,CAAC,CAAC;AAEH,MAAM,OAAO,kBACX,SAAQ,aAAa,CAAqB,UAAU,CAAC;CACrB","sourcesContent":["import type { GfxElementGeometry } from '@lumensuite/block-std/gfx';\nimport type { SerializedXYWH } from '@lumensuite/global/utils';\n\nimport { BlockModel, defineBlockSchema } from '@lumensuite/store';\n\nimport type { EmbedCardStyle, LinkPreviewData } from '../../utils/index.js';\n\nimport { GfxCompatible } from '../../utils/index.js';\n\nexport interface BookmarkBlockEdgelessProps {\n  index: string;\n  xywh: SerializedXYWH;\n  rotate: number;\n}\n\nexport const BookmarkStyles: EmbedCardStyle[] = [\n  'vertical',\n  'horizontal',\n  'list',\n  'cube',\n] as const;\n\nexport type BookmarkBlockProps = {\n  style: (typeof BookmarkStyles)[number];\n  url: string;\n  caption: string | null;\n} & LinkPreviewData &\n  BookmarkBlockEdgelessProps;\n\nconst defaultBookmarkProps: BookmarkBlockProps = {\n  style: BookmarkStyles[1],\n  url: '',\n  caption: null,\n\n  description: null,\n  icon: null,\n  image: null,\n  title: null,\n\n  index: 'a0',\n  xywh: '[0,0,0,0]',\n  rotate: 0,\n};\n\nexport const BookmarkBlockSchema = defineBlockSchema({\n  flavour: 'affine:bookmark',\n  props: (): BookmarkBlockProps => defaultBookmarkProps,\n  metadata: {\n    version: 1,\n    role: 'content',\n    parent: [\n      'affine:note',\n      'affine:surface',\n      'affine:edgeless-text',\n      'affine:paragraph',\n      'affine:list',\n    ],\n  },\n  toModel: () => new BookmarkBlockModel(),\n});\n\nexport class BookmarkBlockModel\n  extends GfxCompatible<BookmarkBlockProps>(BlockModel)\n  implements GfxElementGeometry {}\n\ndeclare global {\n  namespace LumenSuite {\n    interface EdgelessBlockModelMap {\n      'affine:bookmark': BookmarkBlockModel;\n    }\n    interface BlockModels {\n      'affine:bookmark': BookmarkBlockModel;\n    }\n  }\n}\n"]}